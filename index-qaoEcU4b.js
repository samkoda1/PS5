var _r=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),bo=e=>{throw TypeError(e)},nt=Math.pow;var Gt=(e,t,r)=>new Promise((n,u)=>{var i=a=>{try{s(r.next(a))}catch(l){u(l)}},o=a=>{try{s(r.throw(a))}catch(l){u(l)}},s=a=>a.done?n(a.value):Promise.resolve(a.value).then(i,o);s((r=r.apply(e,t)).next())}),Fo=function(e,t){this[0]=e,this[1]=t};var Nr=e=>{var t=e[_r("asyncIterator")],r=!1,n,u={};return t==null?(t=e[_r("iterator")](),n=i=>u[i]=o=>t[i](o)):(t=t.call(e),n=i=>u[i]=o=>{if(r){if(r=!1,i==="throw")throw o;return o}return r=!0,{done:!1,value:new Fo(new Promise(s=>{var a=t[i](o);a instanceof Object||bo("Object expected"),s(a)}),1)}}),u[_r("iterator")]=()=>u,n("next"),"throw"in t?n("throw"):u.throw=i=>{throw i},"return"in t&&n("return"),u};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))n(u);new MutationObserver(u=>{for(const i of u)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(u){const i={};return u.integrity&&(i.integrity=u.integrity),u.referrerPolicy&&(i.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?i.credentials="include":u.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(u){if(u.ep)return;u.ep=!0;const i=r(u);fetch(u.href,i)}})();function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},or.apply(null,arguments)}var wu={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function De(e){return typeof e=="number"}function _e(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function bu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Fu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Eu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Ke(e){return typeof e=="string"}var ve=Array.isArray;function Se(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function sr(e){return Array.isArray(e)||Se(e)}function Eo(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function yo(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Ao(e){return e&&e.constructor.prototype.isRange===!0||!1}function hn(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Co(e){return typeof e=="boolean"}function Bo(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function _o(e){return e&&e.constructor.prototype.isHelp===!0||!1}function No(e){return typeof e=="function"}function Mo(e){return e instanceof Date}function So(e){return e instanceof RegExp}function pn(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!bu(e)&&!Fu(e))}function To(e){return e===null}function xo(e){return e===void 0}function Oo(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Io(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Po(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function $o(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function zo(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ro(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Lo(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function qo(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function ko(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Uo(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zo(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ho(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Go(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vo(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yo(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function jo(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wo(e){return e&&e.constructor.prototype.isChain===!0||!1}function Ct(e){var t=typeof e;return t==="object"?e===null?"null":_e(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ee(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ee(r)});if(e instanceof Date)return new Date(e.valueOf());if(_e(e))return e;if(pn(e))return Xo(e,Ee);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Xo(e,t){var r={};for(var n in e)ar(e,n)&&(r[n]=t(e[n]));return r}function Nt(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!Nt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Nt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function ar(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Jo(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],i=e[u];i!==void 0&&(r[u]=i)}return r}var Ko=["Matrix","Array"],Qo=["number","BigNumber","Fraction"],xt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(wu)};or(xt,wu,{MATRIX_OPTIONS:Ko,NUMBER_OPTIONS:Qo});function Bn(){return!0}function Ve(){return!1}function Ft(){}const _n="Argument is not a typed-function.";function yu(){function e(y){return typeof y=="object"&&y!==null&&y.constructor===Object}const t=[{name:"number",test:function(y){return typeof y=="number"}},{name:"string",test:function(y){return typeof y=="string"}},{name:"boolean",test:function(y){return typeof y=="boolean"}},{name:"Function",test:function(y){return typeof y=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(y){return y instanceof Date}},{name:"RegExp",test:function(y){return y instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(y){return y===null}},{name:"undefined",test:function(y){return y===void 0}}],r={name:"any",test:Bn,isAny:!0};let n,u,i=0,o={createCount:0};function s(y){const _=n.get(y);if(_)return _;let T='Unknown type "'+y+'"';const O=y.toLowerCase();let $;for($ of u)if($.toLowerCase()===O){T+='. Did you mean "'+$+'" ?';break}throw new TypeError(T)}function a(y){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const T=_?s(_).index:u.length,O=[];for(let I=0;I<y.length;++I){if(!y[I]||typeof y[I].name!="string"||typeof y[I].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const U=y[I].name;if(n.has(U))throw new TypeError('Duplicate type name "'+U+'"');O.push(U),n.set(U,{name:U,test:y[I].test,isAny:y[I].isAny,index:T+I,conversionsTo:[]})}const $=u.slice(T);u=u.slice(0,T).concat(O).concat($);for(let I=T+O.length;I<u.length;++I)n.get(u[I]).index=I}function l(){n=new Map,u=[],i=0,a([r],!1)}l(),a(t);function f(){let y;for(y of u)n.get(y).conversionsTo=[];i=0}function h(y){const _=u.filter(T=>{const O=n.get(T);return!O.isAny&&O.test(y)});return _.length?_:["any"]}function p(y){return y&&typeof y=="function"&&"_typedFunctionData"in y}function g(y,_,T){if(!p(y))throw new TypeError(_n);const O=T&&T.exact,$=Array.isArray(_)?_.join(","):_,I=A($),U=v(I);if(!O||U in y.signatures){const fe=y._typedFunctionData.signatureMap.get(U);if(fe)return fe}const q=I.length;let Z;if(O){Z=[];let fe;for(fe in y.signatures)Z.push(y._typedFunctionData.signatureMap.get(fe))}else Z=y._typedFunctionData.signatures;for(let fe=0;fe<q;++fe){const pe=I[fe],Ae=[];let Le;for(Le of Z){const Re=C(Le.params,fe);if(!(!Re||pe.restParam&&!Re.restParam)){if(!Re.hasAny){const je=m(Re);if(pe.types.some(We=>!je.has(We.name)))continue}Ae.push(Le)}}if(Z=Ae,Z.length===0)break}let R;for(R of Z)if(R.params.length<=q)return R;throw new TypeError("Signature not found (signature: "+(y.name||"unnamed")+"("+v(I,", ")+"))")}function E(y,_,T){return g(y,_,T).implementation}function c(y,_){const T=s(_);if(T.test(y))return y;const O=T.conversionsTo;if(O.length===0)throw new Error("There are no conversions to "+_+" defined.");for(let $=0;$<O.length;$++)if(s(O[$].from).test(y))return O[$].convert(y);throw new Error("Cannot convert "+y+" to "+_)}function v(y){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return y.map(T=>T.name).join(_)}function d(y){const _=y.indexOf("...")===0,O=(_?y.length>3?y.slice(3):"any":y).split("|").map(q=>s(q.trim()));let $=!1,I=_?"...":"";return{types:O.map(function(q){return $=q.isAny||$,I+=q.name+"|",{name:q.name,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:null,conversionIndex:-1}}),name:I.slice(0,-1),hasAny:$,hasConversion:!1,restParam:_}}function F(y){const _=y.types.map(U=>U.name),T=Y(_);let O=y.hasAny,$=y.name;const I=T.map(function(U){const q=s(U.from);return O=q.isAny||O,$+="|"+U.from,{name:U.from,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:U,conversionIndex:U.index}});return{types:y.types.concat(I),name:$,hasAny:O,hasConversion:I.length>0,restParam:y.restParam}}function m(y){return y.typeSet||(y.typeSet=new Set,y.types.forEach(_=>y.typeSet.add(_.name))),y.typeSet}function A(y){const _=[];if(typeof y!="string")throw new TypeError("Signatures must be strings");const T=y.trim();if(T==="")return _;const O=T.split(",");for(let $=0;$<O.length;++$){const I=d(O[$].trim());if(I.restParam&&$!==O.length-1)throw new SyntaxError('Unexpected rest parameter "'+O[$]+'": only allowed for the last parameter');if(I.types.length===0)return null;_.push(I)}return _}function w(y){const _=ce(y);return _?_.restParam:!1}function D(y){if(!y||y.types.length===0)return Bn;if(y.types.length===1)return s(y.types[0].name).test;if(y.types.length===2){const _=s(y.types[0].name).test,T=s(y.types[1].name).test;return function($){return _($)||T($)}}else{const _=y.types.map(function(T){return s(T.name).test});return function(O){for(let $=0;$<_.length;$++)if(_[$](O))return!0;return!1}}}function b(y){let _,T,O;if(w(y)){_=ze(y).map(D);const $=_.length,I=D(ce(y)),U=function(q){for(let Z=$;Z<q.length;Z++)if(!I(q[Z]))return!1;return!0};return function(Z){for(let R=0;R<_.length;R++)if(!_[R](Z[R]))return!1;return U(Z)&&Z.length>=$+1}}else return y.length===0?function(I){return I.length===0}:y.length===1?(T=D(y[0]),function(I){return T(I[0])&&I.length===1}):y.length===2?(T=D(y[0]),O=D(y[1]),function(I){return T(I[0])&&O(I[1])&&I.length===2}):(_=y.map(D),function(I){for(let U=0;U<_.length;U++)if(!_[U](I[U]))return!1;return I.length===_.length})}function C(y,_){return _<y.length?y[_]:w(y)?ce(y):null}function B(y,_){const T=C(y,_);return T?m(T):new Set}function S(y){return y.conversion===null||y.conversion===void 0}function N(y,_){const T=new Set;return y.forEach(O=>{const $=B(O.params,_);let I;for(I of $)T.add(I)}),T.has("any")?["any"]:Array.from(T)}function M(y,_,T){let O,$;const I=y||"unnamed";let U=T,q;for(q=0;q<_.length;q++){const pe=[];if(U.forEach(Ae=>{const Le=C(Ae.params,q),Re=D(Le);(q<Ae.params.length||w(Ae.params))&&Re(_[q])&&pe.push(Ae)}),pe.length===0){if($=N(U,q),$.length>0){const Ae=h(_[q]);return O=new TypeError("Unexpected type of argument in function "+I+" (expected: "+$.join(" or ")+", actual: "+Ae.join(" | ")+", index: "+q+")"),O.data={category:"wrongType",fn:I,index:q,actual:Ae,expected:$},O}}else U=pe}const Z=U.map(function(pe){return w(pe.params)?1/0:pe.params.length});if(_.length<Math.min.apply(null,Z))return $=N(U,q),O=new TypeError("Too few arguments in function "+I+" (expected: "+$.join(" or ")+", index: "+_.length+")"),O.data={category:"tooFewArgs",fn:I,index:_.length,expected:$},O;const R=Math.max.apply(null,Z);if(_.length>R)return O=new TypeError("Too many arguments in function "+I+" (expected: "+R+", actual: "+_.length+")"),O.data={category:"tooManyArgs",fn:I,index:_.length,expectedLength:R},O;const fe=[];for(let pe=0;pe<_.length;++pe)fe.push(h(_[pe]).join("|"));return O=new TypeError('Arguments of type "'+fe.join(", ")+'" do not match any of the defined signatures of function '+I+"."),O.data={category:"mismatch",actual:fe},O}function k(y){let _=u.length+1;for(let T=0;T<y.types.length;T++)S(y.types[T])&&(_=Math.min(_,y.types[T].typeIndex));return _}function G(y){let _=i+1;for(let T=0;T<y.types.length;T++)S(y.types[T])||(_=Math.min(_,y.types[T].conversionIndex));return _}function H(y,_){if(y.hasAny){if(!_.hasAny)return 1}else if(_.hasAny)return-1;if(y.restParam){if(!_.restParam)return 1}else if(_.restParam)return-1;if(y.hasConversion){if(!_.hasConversion)return 1}else if(_.hasConversion)return-1;const T=k(y)-k(_);if(T<0)return-1;if(T>0)return 1;const O=G(y)-G(_);return O<0?-1:O>0?1:0}function z(y,_){const T=y.params,O=_.params,$=ce(T),I=ce(O),U=w(T),q=w(O);if(U&&$.hasAny){if(!q||!I.hasAny)return 1}else if(q&&I.hasAny)return-1;let Z=0,R=0,fe;for(fe of T)fe.hasAny&&++Z,fe.hasConversion&&++R;let pe=0,Ae=0;for(fe of O)fe.hasAny&&++pe,fe.hasConversion&&++Ae;if(Z!==pe)return Z-pe;if(U&&$.hasConversion){if(!q||!I.hasConversion)return 1}else if(q&&I.hasConversion)return-1;if(R!==Ae)return R-Ae;if(U){if(!q)return 1}else if(q)return-1;const Le=(T.length-O.length)*(U?-1:1);if(Le!==0)return Le;const Re=[];let je=0;for(let bt=0;bt<T.length;++bt){const Zt=H(T[bt],O[bt]);Re.push(Zt),je+=Zt}if(je!==0)return je;let We;for(We of Re)if(We!==0)return We;return 0}function Y(y){if(y.length===0)return[];const _=y.map(s);y.length>1&&_.sort(($,I)=>$.index-I.index);let T=_[0].conversionsTo;if(y.length===1)return T;T=T.concat([]);const O=new Set(y);for(let $=1;$<_.length;++$){let I;for(I of _[$].conversionsTo)O.has(I.from)||(T.push(I),O.add(I.from))}return T}function j(y,_){let T=_;if(y.some($=>$.hasConversion)){const $=w(y),I=y.map(W);T=function(){const q=[],Z=$?arguments.length-1:arguments.length;for(let R=0;R<Z;R++)q[R]=I[R](arguments[R]);return $&&(q[Z]=arguments[Z].map(I[Z])),_.apply(this,q)}}let O=T;if(w(y)){const $=y.length-1;O=function(){return T.apply(this,ae(arguments,0,$).concat([ae(arguments,$)]))}}return O}function W(y){let _,T,O,$;const I=[],U=[];switch(y.types.forEach(function(q){q.conversion&&(I.push(s(q.conversion.from).test),U.push(q.conversion.convert))}),U.length){case 0:return function(Z){return Z};case 1:return _=I[0],O=U[0],function(Z){return _(Z)?O(Z):Z};case 2:return _=I[0],T=I[1],O=U[0],$=U[1],function(Z){return _(Z)?O(Z):T(Z)?$(Z):Z};default:return function(Z){for(let R=0;R<U.length;R++)if(I[R](Z))return U[R](Z);return Z}}}function Q(y){function _(T,O,$){if(O<T.length){const I=T[O];let U=[];if(I.restParam){const q=I.types.filter(S);q.length<I.types.length&&U.push({types:q,name:"..."+q.map(Z=>Z.name).join("|"),hasAny:q.some(Z=>Z.isAny),hasConversion:!1,restParam:!0}),U.push(I)}else U=I.types.map(function(q){return{types:[q],name:q.name,hasAny:q.isAny,hasConversion:q.conversion,restParam:!1}});return xe(U,function(q){return _(T,O+1,$.concat([q]))})}else return[$]}return _(y,0,[])}function oe(y,_){const T=Math.max(y.length,_.length);for(let q=0;q<T;q++){const Z=B(y,q),R=B(_,q);let fe=!1,pe;for(pe of R)if(Z.has(pe)){fe=!0;break}if(!fe)return!1}const O=y.length,$=_.length,I=w(y),U=w(_);return I?U?O===$:$>=O:U?O>=$:O===$}function ie(y){return y.map(_=>rt(_)?Ge(_.referToSelf.callback):tt(_)?Te(_.referTo.references,_.referTo.callback):_)}function ne(y,_,T){const O=[];let $;for($ of y){let I=T[$];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+$+'"');if(I=_[I],typeof I!="function")return!1;O.push(I)}return O}function ye(y,_,T){const O=ie(y),$=new Array(O.length).fill(!1);let I=!0;for(;I;){I=!1;let U=!0;for(let q=0;q<O.length;++q){if($[q])continue;const Z=O[q];if(rt(Z))O[q]=Z.referToSelf.callback(T),O[q].referToSelf=Z.referToSelf,$[q]=!0,U=!1;else if(tt(Z)){const R=ne(Z.referTo.references,O,_);R?(O[q]=Z.referTo.callback.apply(this,R),O[q].referTo=Z.referTo,$[q]=!0,U=!1):I=!0}}if(U&&I)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return O}function Fe(y){const _=/\bthis(\(|\.signatures\b)/;Object.keys(y).forEach(T=>{const O=y[T];if(_.test(O.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ne(y,_){if(o.createCount++,Object.keys(_).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Fe(_);const T=[],O=[],$={},I=[];let U;for(U in _){if(!Object.prototype.hasOwnProperty.call(_,U))continue;const se=A(U);if(!se)continue;T.forEach(function(zt){if(oe(zt,se))throw new TypeError('Conflicting signatures "'+v(zt)+'" and "'+v(se)+'".')}),T.push(se);const qe=O.length;O.push(_[U]);const vo=se.map(F);let Ht;for(Ht of Q(vo)){const zt=v(Ht);I.push({params:Ht,name:zt,fn:qe}),Ht.every(wo=>!wo.hasConversion)&&($[zt]=qe)}}I.sort(z);const q=ye(O,$,$t);let Z;for(Z in $)Object.prototype.hasOwnProperty.call($,Z)&&($[Z]=q[$[Z]]);const R=[],fe=new Map;for(Z of I)fe.has(Z.name)||(Z.fn=q[Z.fn],R.push(Z),fe.set(Z.name,Z));const pe=R[0]&&R[0].params.length<=2&&!w(R[0].params),Ae=R[1]&&R[1].params.length<=2&&!w(R[1].params),Le=R[2]&&R[2].params.length<=2&&!w(R[2].params),Re=R[3]&&R[3].params.length<=2&&!w(R[3].params),je=R[4]&&R[4].params.length<=2&&!w(R[4].params),We=R[5]&&R[5].params.length<=2&&!w(R[5].params),bt=pe&&Ae&&Le&&Re&&je&&We;for(let se=0;se<R.length;++se)R[se].test=b(R[se].params);const Zt=pe?D(R[0].params[0]):Ve,Zi=Ae?D(R[1].params[0]):Ve,Hi=Le?D(R[2].params[0]):Ve,Gi=Re?D(R[3].params[0]):Ve,Vi=je?D(R[4].params[0]):Ve,Yi=We?D(R[5].params[0]):Ve,ji=pe?D(R[0].params[1]):Ve,Wi=Ae?D(R[1].params[1]):Ve,Xi=Le?D(R[2].params[1]):Ve,Ji=Re?D(R[3].params[1]):Ve,Ki=je?D(R[4].params[1]):Ve,Qi=We?D(R[5].params[1]):Ve;for(let se=0;se<R.length;++se)R[se].implementation=j(R[se].params,R[se].fn);const eo=pe?R[0].implementation:Ft,to=Ae?R[1].implementation:Ft,ro=Le?R[2].implementation:Ft,no=Re?R[3].implementation:Ft,uo=je?R[4].implementation:Ft,io=We?R[5].implementation:Ft,oo=pe?R[0].params.length:-1,so=Ae?R[1].params.length:-1,ao=Le?R[2].params.length:-1,fo=Re?R[3].params.length:-1,co=je?R[4].params.length:-1,lo=We?R[5].params.length:-1,ho=bt?6:0,po=R.length,Do=R.map(se=>se.test),mo=R.map(se=>se.implementation),go=function(){for(let qe=ho;qe<po;qe++)if(Do[qe](arguments))return mo[qe].apply(this,arguments);return o.onMismatch(y,arguments,R)};function $t(se,qe){return arguments.length===oo&&Zt(se)&&ji(qe)?eo.apply(this,arguments):arguments.length===so&&Zi(se)&&Wi(qe)?to.apply(this,arguments):arguments.length===ao&&Hi(se)&&Xi(qe)?ro.apply(this,arguments):arguments.length===fo&&Gi(se)&&Ji(qe)?no.apply(this,arguments):arguments.length===co&&Vi(se)&&Ki(qe)?uo.apply(this,arguments):arguments.length===lo&&Yi(se)&&Qi(qe)?io.apply(this,arguments):go.apply(this,arguments)}try{Object.defineProperty($t,"name",{value:y})}catch(se){}return $t.signatures=$,$t._typedFunctionData={signatures:R,signatureMap:fe},$t}function de(y,_,T){throw M(y,_,T)}function ze(y){return ae(y,0,y.length-1)}function ce(y){return y[y.length-1]}function ae(y,_,T){return Array.prototype.slice.call(y,_,T)}function He(y,_){for(let T=0;T<y.length;T++)if(_(y[T]))return y[T]}function xe(y,_){return Array.prototype.concat.apply([],y.map(_))}function le(){const y=ze(arguments).map(T=>v(A(T))),_=ce(arguments);if(typeof _!="function")throw new TypeError("Callback function expected as last argument");return Te(y,_)}function Te(y,_){return{referTo:{references:y,callback:_}}}function Ge(y){if(typeof y!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:y}}}function tt(y){return y&&typeof y.referTo=="object"&&Array.isArray(y.referTo.references)&&typeof y.referTo.callback=="function"}function rt(y){return y&&typeof y.referToSelf=="object"&&typeof y.referToSelf.callback=="function"}function vt(y,_){if(!y)return _;if(_&&_!==y){const T=new Error("Function names do not match (expected: "+y+", actual: "+_+")");throw T.data={actual:_,expected:y},T}return y}function wt(y){let _;for(const T in y)Object.prototype.hasOwnProperty.call(y,T)&&(p(y[T])||typeof y[T].signature=="string")&&(_=vt(_,y[T].name));return _}function Br(y,_){let T;for(T in _)if(Object.prototype.hasOwnProperty.call(_,T)){if(T in y&&_[T]!==y[T]){const O=new Error('Signature "'+T+'" is defined twice');throw O.data={signature:T,sourceFunction:_[T],destFunction:y[T]},O}y[T]=_[T]}}const Ui=o;o=function(y){const _=typeof y=="string",T=_?1:0;let O=_?y:"";const $={};for(let I=T;I<arguments.length;++I){const U=arguments[I];let q={},Z;if(typeof U=="function"?(Z=U.name,typeof U.signature=="string"?q[U.signature]=U:p(U)&&(q=U.signatures)):e(U)&&(q=U,_||(Z=wt(U))),Object.keys(q).length===0){const R=new TypeError("Argument to 'typed' at index "+I+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw R.data={index:I,argument:U},R}_||(O=vt(O,Z)),Br($,q)}return Ne(O||"",$)},o.create=yu,o.createCount=Ui.createCount,o.onMismatch=de,o.throwMismatchError=de,o.createError=M,o.clear=l,o.clearConversions=f,o.addTypes=a,o._findType=s,o.referTo=le,o.referToSelf=Ge,o.convert=c,o.findSignature=g,o.find=E,o.isTypedFunction=p,o.warnAgainstDeprecatedThis=!0,o.addType=function(y,_){let T="any";_!==!1&&n.has("Object")&&(T="Object"),o.addTypes([y],T)};function Cn(y){if(!y||typeof y.from!="string"||typeof y.to!="string"||typeof y.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(y.to===y.from)throw new SyntaxError('Illegal to define conversion from "'+y.from+'" to itself.')}return o.addConversion=function(y){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Cn(y);const T=s(y.to),O=T.conversionsTo.find($=>$.from===y.from);if(O)if(_&&_.override)o.removeConversion({from:O.from,to:y.to,convert:O.convert});else throw new Error('There is already a conversion from "'+y.from+'" to "'+T.name+'"');T.conversionsTo.push({from:y.from,convert:y.convert,index:i++})},o.addConversions=function(y,_){y.forEach(T=>o.addConversion(T,_))},o.removeConversion=function(y){Cn(y);const _=s(y.to),T=He(_.conversionsTo,$=>$.from===y.from);if(!T)throw new Error("Attempt to remove nonexistent conversion from "+y.from+" to "+y.to);if(T.convert!==y.convert)throw new Error("Conversion to remove does not match existing conversion");const O=_.conversionsTo.indexOf(T);_.conversionsTo.splice(O,1)},o.resolve=function(y,_){if(!p(y))throw new TypeError(_n);const T=y._typedFunctionData.signatures;for(let O=0;O<T.length;++O)if(T[O].test(_))return T[O];return null},o}const Nn=yu();function me(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Mr(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!me(r))throw new Error("size must be an integer");if(e>nt(2,r-1)-1||e<-nt(2,r-1))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!me(e))throw new Error("Value must be an integer");e<0&&(e=e+nt(2,r)),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(i)}function en(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:u}=Au(t);switch(r){case"fixed":return ts(e,n);case"exponential":return Cu(e,n);case"engineering":return es(e,n);case"bin":return Mr(e,2,u);case"oct":return Mr(e,8,u);case"hex":return Mr(e,16,u);case"auto":return rs(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Au(e){var t="auto",r,n;if(e!==void 0)if(De(e))r=e;else if(_e(e))r=e.toNumber();else if(pn(e))e.precision!==void 0&&(r=Mn(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=Mn(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function gr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return u-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function es(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=gr(e),n=vr(r,t),u=n.exponent,i=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(De(t))for(;t>i.length||u-o+1>i.length;)i.push(0);else for(var s=Math.abs(u-o)-(i.length-1),a=0;a<s;a++)i.push(0);for(var l=Math.abs(u-o),f=1;l>0;)f++,l--;var h=i.slice(f).join(""),p=De(t)&&h.length||h.match(/[1-9]/)?"."+h:"",g=i.slice(0,f).join("")+p+"e"+(u>=0?"+":"")+o.toString();return n.sign+g}function ts(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=gr(e),n=typeof t=="number"?vr(r,r.exponent+1+t):r,u=n.coefficients,i=n.exponent+1,o=i+(t||0);return u.length<o&&(u=u.concat(Bt(o-u.length))),i<0&&(u=Bt(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function Cu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=gr(e),n=t?vr(r,t):r,u=n.coefficients,i=n.exponent;u.length<t&&(u=u.concat(Bt(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function rs(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Sn(r==null?void 0:r.lowerExp,-3),u=Sn(r==null?void 0:r.upperExp,5),i=gr(e),o=t?vr(i,t):i;if(o.exponent<n||o.exponent>=u)return Cu(e,t);var s=o.coefficients,a=o.exponent;s.length<t&&(s=s.concat(Bt(t-s.length))),s=s.concat(Bt(a-s.length+1+(s.length<t?t-s.length:0))),s=Bt(-a).concat(s);var l=a>0?a:0;return l<s.length-1&&s.splice(l+1,0,"."),o.sign+s.join("")}function vr(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var i=t-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function Bt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function ns(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var us=Number.EPSILON||2220446049250313e-31;function fr(e,t,r){if(r==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<=us?!0:n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function Mn(e,t){if(De(e))return e;if(_e(e))return e.toNumber();t()}function Sn(e,t){return De(e)?e:_e(e)?e.toNumber():t}function ue(e,t,r,n){function u(i){var o=Jo(i,t.map(ss));return is(e,t,i),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function is(e,t,r){var n=t.filter(i=>!os(i)).every(i=>r[i]!==void 0);if(!n){var u=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function os(e){return e&&e[0]==="?"}function ss(e){return e&&e[0]==="?"?e.slice(1):e}function as(e,t){if(_u(e)&&Bu(e,t))return e[t];throw typeof e[t]=="function"&&ls(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function fs(e,t,r){if(_u(e)&&Bu(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function cs(e,t){return t in e}function Bu(e,t){return!e||typeof e!="object"?!1:ar(hs,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ls(e,t){return e==null||typeof e[t]!="function"||ar(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:ar(ps,t)?!0:!(t in Object.prototype||t in Function.prototype)}function _u(e){return typeof e=="object"&&e&&e.constructor===Object}var hs={length:!0,name:!0},ps={toString:!0,valueOf:!0,toLocaleString:!0};class ds{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return as(this.wrappedObject,t)}set(t,r){return fs(this.wrappedObject,t,r),this}has(t){return cs(this.wrappedObject,t)}entries(){return Ds(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Ds(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function ms(e){return e?e instanceof Map||e instanceof ds||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Nu=function(){return Nu=Nn.create,Nn},gs=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],vs=ue("typed",gs,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:i}=t,o=Nu();return o.clear(),o.addTypes([{name:"number",test:De},{name:"Complex",test:bu},{name:"BigNumber",test:_e},{name:"Fraction",test:Fu},{name:"Unit",test:Eu},{name:"identifier",test:s=>Ke&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Ke},{name:"Chain",test:Wo},{name:"Array",test:ve},{name:"Matrix",test:Se},{name:"DenseMatrix",test:Eo},{name:"SparseMatrix",test:yo},{name:"Range",test:Ao},{name:"Index",test:hn},{name:"boolean",test:Co},{name:"ResultSet",test:Bo},{name:"Help",test:_o},{name:"function",test:No},{name:"Date",test:Mo},{name:"RegExp",test:So},{name:"null",test:To},{name:"undefined",test:xo},{name:"AccessorNode",test:Oo},{name:"ArrayNode",test:Io},{name:"AssignmentNode",test:Po},{name:"BlockNode",test:$o},{name:"ConditionalNode",test:zo},{name:"ConstantNode",test:Ro},{name:"FunctionNode",test:qo},{name:"FunctionAssignmentNode",test:Lo},{name:"IndexNode",test:ko},{name:"Node",test:Uo},{name:"ObjectNode",test:Zo},{name:"OperatorNode",test:Ho},{name:"ParenthesisNode",test:Go},{name:"RangeNode",test:Vo},{name:"RelationalNode",test:Yo},{name:"SymbolNode",test:jo},{name:"Map",test:ms},{name:"Object",test:pn}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(a){if(r||Sr(a),ns(a)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+a+"). Use function bignumber(x) to convert to BigNumber.");return new r(a)}},{from:"number",to:"Complex",convert:function(a){return n||Vt(a),new n(a,0)}},{from:"BigNumber",to:"Complex",convert:function(a){return n||Vt(a),new n(a.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(a){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(a){return n||Vt(a),new n(a.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(a){i||Tr(a);var l=new i(a);if(l.valueOf()!==a)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+a+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(a){var l=Number(a);if(isNaN(l))throw new Error('Cannot convert "'+a+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(a){r||Sr(a);try{return new r(a)}catch(l){throw new Error('Cannot convert "'+a+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(a){i||Tr(a);try{return new i(a)}catch(l){throw new Error('Cannot convert "'+a+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(a){n||Vt(a);try{return new n(a)}catch(l){throw new Error('Cannot convert "'+a+'" to Complex')}}},{from:"boolean",to:"number",convert:function(a){return+a}},{from:"boolean",to:"BigNumber",convert:function(a){return r||Sr(a),new r(+a)}},{from:"boolean",to:"Fraction",convert:function(a){return i||Tr(a),new i(+a)}},{from:"boolean",to:"string",convert:function(a){return String(a)}},{from:"Array",to:"Matrix",convert:function(a){return u||ws(),new u(a)}},{from:"Matrix",to:"Array",convert:function(a){return a.valueOf()}}]),o.onMismatch=(s,a,l)=>{var f=o.createError(s,a,l);if(["wrongType","mismatch"].includes(f.data.category)&&a.length===1&&sr(a[0])&&l.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=f.data,h}throw f},o.onMismatch=(s,a,l)=>{var f=o.createError(s,a,l);if(["wrongType","mismatch"].includes(f.data.category)&&a.length===1&&sr(a[0])&&l.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=f.data,h}throw f},o});function Sr(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Vt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function ws(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Tr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var tn=9e15,lt=1e9,rn="0123456789abcdef",cr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",lr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",nn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:tn,crypto:!1},Mu,st,J=!0,wr="[DecimalError] ",ct=wr+"Invalid argument: ",Su=wr+"Precision limit exceeded",Tu=wr+"crypto unavailable",xu="[object Decimal]",$e=Math.floor,Me=Math.pow,bs=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Fs=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Es=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ou=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xe=1e7,X=7,ys=9007199254740991,As=cr.length-1,un=lr.length-1,P={toStringTag:xu};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),V(e)};P.ceil=function(){return V(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(ct+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};P.comparedTo=P.cmp=function(e){var t,r,n,u,i=this,o=i.d,s=(e=new i.constructor(e)).d,a=i.s,l=e.s;if(!o||!s)return!a||!l?NaN:a!==l?a:o===s?0:!o^a<0?1:-1;if(!o[0]||!s[0])return o[0]?a:s[0]?-l:0;if(a!==l)return a;if(i.e!==e.e)return i.e>e.e^a<0?1:-1;for(n=o.length,u=s.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^a<0?1:-1;return n===u?0:n>u^a<0?1:-1};P.cosine=P.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+X,n.rounding=1,r=Cs(n,Ru(n,r)),n.precision=e,n.rounding=t,V(st==2||st==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};P.cubeRoot=P.cbrt=function(){var e,t,r,n,u,i,o,s,a,l,f=this,h=f.constructor;if(!f.isFinite()||f.isZero())return new h(f);for(J=!1,i=f.s*Me(f.s*f,1/3),!i||Math.abs(i)==1/0?(r=Oe(f.d),e=f.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Me(r,1/3),e=$e((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new h(r),n.s=f.s):n=new h(i.toString()),o=(e=h.precision)+3;;)if(s=n,a=s.times(s).times(s),l=a.plus(f),n=he(l.plus(f).times(s),l.plus(a),o+2,1),Oe(s.d).slice(0,o)===(r=Oe(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(V(s,e+1,0),s.times(s).times(s).eq(f))){n=s;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(V(n,e+1,1),t=!n.times(n).times(n).eq(f));break}return J=!0,V(n,e,h.rounding,t)};P.decimalPlaces=P.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-$e(this.e/X))*X,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};P.dividedBy=P.div=function(e){return he(this,new this.constructor(e))};P.dividedToIntegerBy=P.divToInt=function(e){var t=this,r=t.constructor;return V(he(t,new r(e),0,1,1),r.precision,r.rounding)};P.equals=P.eq=function(e){return this.cmp(e)===0};P.floor=function(){return V(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){var t=this.cmp(e);return t==1||t===0};P.hyperbolicCosine=P.cosh=function(){var e,t,r,n,u,i=this,o=i.constructor,s=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),t=(1/Fr(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=Mt(o,1,i.times(t),new o(1),!0);for(var a,l=e,f=new o(8);l--;)a=i.times(i),i=s.minus(a.times(f.minus(a.times(f))));return V(i,o.precision=r,o.rounding=n,!0)};P.hyperbolicSine=P.sinh=function(){var e,t,r,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=Mt(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/Fr(5,e)),u=Mt(i,2,u,u,!0);for(var o,s=new i(5),a=new i(16),l=new i(20);e--;)o=u.times(u),u=u.times(s.plus(o.times(a.times(o).plus(l))))}return i.precision=t,i.rounding=r,V(u,t,r,!0)};P.hyperbolicTangent=P.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,he(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};P.inverseCosine=P.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,u=t.rounding;return r!==-1?r===0?e.isNeg()?Qe(t,n,u):new t(0):new t(NaN):e.isZero()?Qe(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=u,e.times(2))};P.inverseHyperbolicCosine=P.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,J=!1,r=r.times(r).minus(1).sqrt().plus(r),J=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};P.inverseHyperbolicSine=P.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,J=!1,r=r.times(r).plus(1).sqrt().plus(r),J=!0,n.precision=e,n.rounding=t,r.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var e,t,r,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,t=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?V(new i(u),e,t,!0):(i.precision=r=n-u.e,u=he(u.plus(1),new i(1).minus(u),r+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=t,u.times(.5))):new i(NaN)};P.inverseSine=P.asin=function(){var e,t,r,n,u=this,i=u.constructor;return u.isZero()?new i(u):(t=u.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=Qe(i,r+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,u.times(2)))};P.inverseTangent=P.atan=function(){var e,t,r,n,u,i,o,s,a,l=this,f=l.constructor,h=f.precision,p=f.rounding;if(l.isFinite()){if(l.isZero())return new f(l);if(l.abs().eq(1)&&h+4<=un)return o=Qe(f,h+4,p).times(.25),o.s=l.s,o}else{if(!l.s)return new f(NaN);if(h+4<=un)return o=Qe(f,h+4,p).times(.5),o.s=l.s,o}for(f.precision=s=h+10,f.rounding=1,r=Math.min(28,s/X+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(J=!1,t=Math.ceil(s/X),n=1,a=l.times(l),o=new f(l),u=l;e!==-1;)if(u=u.times(a),i=o.minus(u.div(n+=2)),u=u.times(a),o=i.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),J=!0,V(o,f.precision=h,f.rounding=p,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&$e(this.e/X)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,r,n,u,i,o,s,a,l=this,f=l.constructor,h=f.precision,p=f.rounding,g=5;if(e==null)e=new f(10),t=!0;else{if(e=new f(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new f(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new f(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(u=r[0];u%10===0;)u/=10;i=u!==1}if(J=!1,s=h+g,o=ft(l,s),n=t?hr(f,s+10):ft(e,s),a=he(o,n,s,1),kt(a.d,u=h,p))do if(s+=10,o=ft(l,s),n=t?hr(f,s+10):ft(e,s),a=he(o,n,s,1),!i){+Oe(a.d).slice(u+1,u+15)+1==1e14&&(a=V(a,h+1,0));break}while(kt(a.d,u+=10,p));return J=!0,V(a,h,p)};P.minus=P.sub=function(e){var t,r,n,u,i,o,s,a,l,f,h,p,g=this,E=g.constructor;if(e=new E(e),!g.d||!e.d)return!g.s||!e.s?e=new E(NaN):g.d?e.s=-e.s:e=new E(e.d||g.s!==e.s?g:NaN),e;if(g.s!=e.s)return e.s=-e.s,g.plus(e);if(l=g.d,p=e.d,s=E.precision,a=E.rounding,!l[0]||!p[0]){if(p[0])e.s=-e.s;else if(l[0])e=new E(g);else return new E(a===3?-0:0);return J?V(e,s,a):e}if(r=$e(e.e/X),f=$e(g.e/X),l=l.slice(),i=f-r,i){for(h=i<0,h?(t=l,i=-i,o=p.length):(t=p,r=f,o=l.length),n=Math.max(Math.ceil(s/X),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=l.length,o=p.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(l[n]!=p[n]){h=l[n]<p[n];break}i=0}for(h&&(t=l,l=p,p=t,e.s=-e.s),o=l.length,n=p.length-o;n>0;--n)l[o++]=0;for(n=p.length;n>i;){if(l[--n]<p[n]){for(u=n;u&&l[--u]===0;)l[u]=Xe-1;--l[u],l[n]+=Xe}l[n]-=p[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=br(l,r),J?V(e,s,a):e):new E(a===3?-0:0)};P.modulo=P.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?V(new n(r),n.precision,n.rounding):(J=!1,n.modulo==9?(t=he(r,e.abs(),0,3,1),t.s*=e.s):t=he(r,e,0,n.modulo,1),t=t.times(e),J=!0,r.minus(t))};P.naturalExponential=P.exp=function(){return on(this)};P.naturalLogarithm=P.ln=function(){return ft(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,V(e)};P.plus=P.add=function(e){var t,r,n,u,i,o,s,a,l,f,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return!h.s||!e.s?e=new p(NaN):h.d||(e=new p(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,f=e.d,s=p.precision,a=p.rounding,!l[0]||!f[0])return f[0]||(e=new p(h)),J?V(e,s,a):e;if(i=$e(h.e/X),n=$e(e.e/X),l=l.slice(),u=i-n,u){for(u<0?(r=l,u=-u,o=f.length):(r=f,n=i,o=l.length),i=Math.ceil(s/X),o=i>o?i+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=l.length,u=f.length,o-u<0&&(u=o,r=f,f=l,l=r),t=0;u;)t=(l[--u]=l[u]+f[u]+t)/Xe|0,l[u]%=Xe;for(t&&(l.unshift(t),++n),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=br(l,n),J?V(e,s,a):e};P.precision=P.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ct+e);return r.d?(t=Iu(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};P.round=function(){var e=this,t=e.constructor;return V(new t(e),e.e+1,t.rounding)};P.sine=P.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+X,n.rounding=1,r=_s(n,Ru(n,r)),n.precision=e,n.rounding=t,V(st>2?r.neg():r,e,t,!0)):new n(NaN)};P.squareRoot=P.sqrt=function(){var e,t,r,n,u,i,o=this,s=o.d,a=o.e,l=o.s,f=o.constructor;if(l!==1||!s||!s[0])return new f(!l||l<0&&(!s||s[0])?NaN:s?o:1/0);for(J=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=Oe(s),(t.length+a)%2==0&&(t+="0"),l=Math.sqrt(t),a=$e((a+1)/2)-(a<0||a%2),l==1/0?t="5e"+a:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+a),n=new f(t)):n=new f(l.toString()),r=(a=f.precision)+3;;)if(i=n,n=i.plus(he(o,i,r+2,1)).times(.5),Oe(i.d).slice(0,r)===(t=Oe(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(V(i,a+1,0),i.times(i).eq(o))){n=i;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(V(n,a+1,1),e=!n.times(n).eq(o));break}return J=!0,V(n,a,f.rounding,e)};P.tangent=P.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=he(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,V(st==2||st==4?r.neg():r,e,t,!0)):new n(NaN)};P.times=P.mul=function(e){var t,r,n,u,i,o,s,a,l,f=this,h=f.constructor,p=f.d,g=(e=new h(e)).d;if(e.s*=f.s,!p||!p[0]||!g||!g[0])return new h(!e.s||p&&!p[0]&&!g||g&&!g[0]&&!p?NaN:!p||!g?e.s/0:e.s*0);for(r=$e(f.e/X)+$e(e.e/X),a=p.length,l=g.length,a<l&&(i=p,p=g,g=i,o=a,a=l,l=o),i=[],o=a+l,n=o;n--;)i.push(0);for(n=l;--n>=0;){for(t=0,u=a+n;u>n;)s=i[u]+g[n]*p[u-n-1]+t,i[u--]=s%Xe|0,t=s/Xe|0;i[u]=(i[u]+t)%Xe|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=br(i,r),J?V(e,h.precision,h.rounding):e};P.toBinary=function(e,t){return dn(this,2,e,t)};P.toDecimalPlaces=P.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ue(e,0,lt),t===void 0?t=n.rounding:Ue(t,0,8),V(r,e+r.e+1,t))};P.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=et(n,!0):(Ue(e,0,lt),t===void 0?t=u.rounding:Ue(t,0,8),n=V(new u(n),e+1,t),r=et(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};P.toFixed=function(e,t){var r,n,u=this,i=u.constructor;return e===void 0?r=et(u):(Ue(e,0,lt),t===void 0?t=i.rounding:Ue(t,0,8),n=V(new i(u),e+u.e+1,t),r=et(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};P.toFraction=function(e){var t,r,n,u,i,o,s,a,l,f,h,p,g=this,E=g.d,c=g.constructor;if(!E)return new c(g);if(l=r=new c(1),n=a=new c(0),t=new c(n),i=t.e=Iu(E)-g.e-1,o=i%X,t.d[0]=Me(10,o<0?X+o:o),e==null)e=i>0?t:l;else{if(s=new c(e),!s.isInt()||s.lt(l))throw Error(ct+s);e=s.gt(t)?i>0?t:l:s}for(J=!1,s=new c(Oe(E)),f=c.precision,c.precision=i=E.length*X*2;h=he(s,t,0,1,1),u=r.plus(h.times(n)),u.cmp(e)!=1;)r=n,n=u,u=l,l=a.plus(h.times(u)),a=u,u=t,t=s.minus(h.times(u)),s=u;return u=he(e.minus(r),n,0,1,1),a=a.plus(u.times(l)),r=r.plus(u.times(n)),a.s=l.s=g.s,p=he(l,n,i,1).minus(g).abs().cmp(he(a,r,i,1).minus(g).abs())<1?[l,n]:[a,r],c.precision=f,J=!0,p};P.toHexadecimal=P.toHex=function(e,t){return dn(this,16,e,t)};P.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Ue(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(J=!1,r=he(r,e,0,t,1).times(e),J=!0,V(r)):(e.s=r.s,r=e),r};P.toNumber=function(){return+this};P.toOctal=function(e,t){return dn(this,8,e,t)};P.toPower=P.pow=function(e){var t,r,n,u,i,o,s=this,a=s.constructor,l=+(e=new a(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new a(Me(+s,l));if(s=new a(s),s.eq(1))return s;if(n=a.precision,i=a.rounding,e.eq(1))return V(s,n,i);if(t=$e(e.e/X),t>=e.d.length-1&&(r=l<0?-l:l)<=ys)return u=Pu(a,s,r,n),e.s<0?new a(1).div(u):V(u,n,i);if(o=s.s,o<0){if(t<e.d.length-1)return new a(NaN);if((e.d[t]&1)==0&&(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=Me(+s,l),t=r==0||!isFinite(r)?$e(l*(Math.log("0."+Oe(s.d))/Math.LN10+s.e+1)):new a(r+"").e,t>a.maxE+1||t<a.minE-1?new a(t>0?o/0:0):(J=!1,a.rounding=s.s=1,r=Math.min(12,(t+"").length),u=on(e.times(ft(s,n+r)),n),u.d&&(u=V(u,n+5,1),kt(u.d,n,i)&&(t=n+10,u=V(on(e.times(ft(s,t+r)),t),t+5,1),+Oe(u.d).slice(n+1,n+15)+1==1e14&&(u=V(u,n+1,0)))),u.s=o,J=!0,a.rounding=i,V(u,n,i))};P.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=et(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Ue(e,1,lt),t===void 0?t=u.rounding:Ue(t,0,8),n=V(new u(n),e,t),r=et(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};P.toSignificantDigits=P.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ue(e,1,lt),t===void 0?t=n.rounding:Ue(t,0,8)),V(new n(r),e,t)};P.toString=function(){var e=this,t=e.constructor,r=et(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};P.truncated=P.trunc=function(){return V(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var e=this,t=e.constructor,r=et(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Oe(e){var t,r,n,u=e.length-1,i="",o=e[0];if(u>0){for(i+=o,t=1;t<u;t++)n=e[t]+"",r=X-n.length,r&&(i+=at(r)),i+=n;o=e[t],n=o+"",r=X-n.length,r&&(i+=at(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function Ue(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ct+e)}function kt(e,t,r,n){var u,i,o,s;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=X,u=0):(u=Math.ceil((t+1)/X),t%=X),i=Me(10,X-t),s=e[u]%i|0,n==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==i||r>3&&s+1==i/2)&&(e[u+1]/i/100|0)==Me(10,t-2)-1||(s==i/2||s==0)&&(e[u+1]/i/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==i||!n&&r>3&&s+1==i/2)&&(e[u+1]/i/1e3|0)==Me(10,t-3)-1,o}function Qt(e,t,r){for(var n,u=[0],i,o=0,s=e.length;o<s;){for(i=u.length;i--;)u[i]*=t;for(u[0]+=rn.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function Cs(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/Fr(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=Mt(e,1,t.times(u),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var he=function(){function e(n,u,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*u+s,n[a]=o%i|0,s=o/i|0;return s&&n.unshift(s),n}function t(n,u,i,o){var s,a;if(i!=o)a=i>o?1:-1;else for(s=a=0;s<i;s++)if(n[s]!=u[s]){a=n[s]>u[s]?1:-1;break}return a}function r(n,u,i,o){for(var s=0;i--;)n[i]-=s,s=n[i]<u[i]?1:0,n[i]=s*o+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,o,s,a){var l,f,h,p,g,E,c,v,d,F,m,A,w,D,b,C,B,S,N,M,k=n.constructor,G=n.s==u.s?1:-1,H=n.d,z=u.d;if(!H||!H[0]||!z||!z[0])return new k(!n.s||!u.s||(H?z&&H[0]==z[0]:!z)?NaN:H&&H[0]==0||!z?G*0:G/0);for(a?(g=1,f=n.e-u.e):(a=Xe,g=X,f=$e(n.e/g)-$e(u.e/g)),N=z.length,B=H.length,d=new k(G),F=d.d=[],h=0;z[h]==(H[h]||0);h++);if(z[h]>(H[h]||0)&&f--,i==null?(D=i=k.precision,o=k.rounding):s?D=i+(n.e-u.e)+1:D=i,D<0)F.push(1),E=!0;else{if(D=D/g+2|0,h=0,N==1){for(p=0,z=z[0],D++;(h<B||p)&&D--;h++)b=p*a+(H[h]||0),F[h]=b/z|0,p=b%z|0;E=p||h<B}else{for(p=a/(z[0]+1)|0,p>1&&(z=e(z,p,a),H=e(H,p,a),N=z.length,B=H.length),C=N,m=H.slice(0,N),A=m.length;A<N;)m[A++]=0;M=z.slice(),M.unshift(0),S=z[0],z[1]>=a/2&&++S;do p=0,l=t(z,m,N,A),l<0?(w=m[0],N!=A&&(w=w*a+(m[1]||0)),p=w/S|0,p>1?(p>=a&&(p=a-1),c=e(z,p,a),v=c.length,A=m.length,l=t(c,m,v,A),l==1&&(p--,r(c,N<v?M:z,v,a))):(p==0&&(l=p=1),c=z.slice()),v=c.length,v<A&&c.unshift(0),r(m,c,A,a),l==-1&&(A=m.length,l=t(z,m,N,A),l<1&&(p++,r(m,N<A?M:z,A,a))),A=m.length):l===0&&(p++,m=[0]),F[h++]=p,l&&m[0]?m[A++]=H[C]||0:(m=[H[C]],A=1);while((C++<B||m[0]!==void 0)&&D--);E=m[0]!==void 0}F[0]||F.shift()}if(g==1)d.e=f,Mu=E;else{for(h=1,p=F[0];p>=10;p/=10)h++;d.e=h+f*g-1,V(d,s?i+d.e+1:i,o,E)}return d}}();function V(e,t,r,n){var u,i,o,s,a,l,f,h,p,g=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(u=1,s=h[0];s>=10;s/=10)u++;if(i=t-u,i<0)i+=X,o=t,f=h[p=0],a=f/Me(10,u-o-1)%10|0;else if(p=Math.ceil((i+1)/X),s=h.length,p>=s)if(n){for(;s++<=p;)h.push(0);f=a=0,u=1,i%=X,o=i-X+1}else break e;else{for(f=s=h[p],u=1;s>=10;s/=10)u++;i%=X,o=i-X+u,a=o<0?0:f/Me(10,u-o-1)%10|0}if(n=n||t<0||h[p+1]!==void 0||(o<0?f:f%Me(10,u-o-1)),l=r<4?(a||n)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||n||r==6&&(i>0?o>0?f/Me(10,u-o):0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=Me(10,(X-t%X)%X),e.e=-t||0):h[0]=e.e=0,e;if(i==0?(h.length=p,s=1,p--):(h.length=p+1,s=Me(10,X-i),h[p]=o>0?(f/Me(10,u-o)%Me(10,o)|0)*s:0),l)for(;;)if(p==0){for(i=1,o=h[0];o>=10;o/=10)i++;for(o=h[0]+=s,s=1;o>=10;o/=10)s++;i!=s&&(e.e++,h[0]==Xe&&(h[0]=1));break}else{if(h[p]+=s,h[p]!=Xe)break;h[p--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop()}return J&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function et(e,t,r){if(!e.isFinite())return zu(e);var n,u=e.e,i=Oe(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+at(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+at(-u-1)+i,r&&(n=r-o)>0&&(i+=at(n))):u>=o?(i+=at(u+1-o),r&&(n=r-u-1)>0&&(i=i+"."+at(n))):((n=u+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(i+="."),i+=at(n))),i}function br(e,t){var r=e[0];for(t*=X;r>=10;r/=10)t++;return t}function hr(e,t,r){if(t>As)throw J=!0,r&&(e.precision=r),Error(Su);return V(new e(cr),t,1,!0)}function Qe(e,t,r){if(t>un)throw Error(Su);return V(new e(lr),t,r,!0)}function Iu(e){var t=e.length-1,r=t*X+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function at(e){for(var t="";e--;)t+="0";return t}function Pu(e,t,r,n){var u,i=new e(1),o=Math.ceil(n/X+4);for(J=!1;;){if(r%2&&(i=i.times(t),xn(i.d,o)&&(u=!0)),r=$e(r/2),r===0){r=i.d.length-1,u&&i.d[r]===0&&++i.d[r];break}t=t.times(t),xn(t.d,o)}return J=!0,i}function Tn(e){return e.d[e.d.length-1]&1}function $u(e,t,r){for(var n,u,i=new e(t[0]),o=0;++o<t.length;){if(u=new e(t[o]),!u.s){i=u;break}n=i.cmp(u),(n===r||n===0&&i.s===r)&&(i=u)}return i}function on(e,t){var r,n,u,i,o,s,a,l=0,f=0,h=0,p=e.constructor,g=p.rounding,E=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(J=!1,a=E):a=t,s=new p(.03125);e.e>-2;)e=e.times(s),h+=5;for(n=Math.log(Me(2,h))/Math.LN10*2+5|0,a+=n,r=i=o=new p(1),p.precision=a;;){if(i=V(i.times(e),a,1),r=r.times(++f),s=o.plus(he(i,r,a,1)),Oe(s.d).slice(0,a)===Oe(o.d).slice(0,a)){for(u=h;u--;)o=V(o.times(o),a,1);if(t==null)if(l<3&&kt(o.d,a-n,g,l))p.precision=a+=10,r=i=s=new p(1),f=0,l++;else return V(o,p.precision=E,g,J=!0);else return p.precision=E,o}o=s}}function ft(e,t){var r,n,u,i,o,s,a,l,f,h,p,g=1,E=10,c=e,v=c.d,d=c.constructor,F=d.rounding,m=d.precision;if(c.s<0||!v||!v[0]||!c.e&&v[0]==1&&v.length==1)return new d(v&&!v[0]?-1/0:c.s!=1?NaN:v?0:c);if(t==null?(J=!1,f=m):f=t,d.precision=f+=E,r=Oe(v),n=r.charAt(0),Math.abs(i=c.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)c=c.times(e),r=Oe(c.d),n=r.charAt(0),g++;i=c.e,n>1?(c=new d("0."+r),i++):c=new d(n+"."+r.slice(1))}else return l=hr(d,f+2,m).times(i+""),c=ft(new d(n+"."+r.slice(1)),f-E).plus(l),d.precision=m,t==null?V(c,m,F,J=!0):c;for(h=c,a=o=c=he(c.minus(1),c.plus(1),f,1),p=V(c.times(c),f,1),u=3;;){if(o=V(o.times(p),f,1),l=a.plus(he(o,new d(u),f,1)),Oe(l.d).slice(0,f)===Oe(a.d).slice(0,f))if(a=a.times(2),i!==0&&(a=a.plus(hr(d,f+2,m).times(i+""))),a=he(a,new d(g),f,1),t==null)if(kt(a.d,f-E,F,s))d.precision=f+=E,l=o=c=he(h.minus(1),h.plus(1),f,1),p=V(c.times(c),f,1),u=s=1;else return V(a,d.precision=m,F,J=!0);else return d.precision=m,a;a=l,u+=2}}function zu(e){return String(e.s*e.s/0)}function er(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%X,r<0&&(n+=X),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=X;n<u;)e.d.push(+t.slice(n,n+=X));t=t.slice(n),n=X-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),J&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Bs(e,t){var r,n,u,i,o,s,a,l,f;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Ou.test(t))return er(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Fs.test(t))r=16,t=t.toLowerCase();else if(bs.test(t))r=2;else if(Es.test(t))r=8;else throw Error(ct+t);for(i=t.search(/p/i),i>0?(a=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),s=t.length,i=s-i,u=Pu(n,new n(r),i,i*2)),l=Qt(t,r,Xe),f=l.length-1,i=f;l[i]===0;--i)l.pop();return i<0?new n(e.s*0):(e.e=br(l,f),e.d=l,J=!1,o&&(e=he(e,u,s*4)),a&&(e=e.times(Math.abs(a)<54?Me(2,a):St.pow(2,a))),J=!0,e)}function _s(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Mt(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Fr(5,r)),t=Mt(e,2,t,t);for(var u,i=new e(5),o=new e(16),s=new e(20);r--;)u=t.times(t),t=t.times(i.plus(u.times(o.times(u).minus(s))));return t}function Mt(e,t,r,n,u){var i,o,s,a,l=e.precision,f=Math.ceil(l/X);for(J=!1,a=r.times(r),s=new e(n);;){if(o=he(s.times(a),new e(t++*t++),l,1),s=u?n.plus(o):n.minus(o),n=he(o.times(a),new e(t++*t++),l,1),o=s.plus(n),o.d[f]!==void 0){for(i=f;o.d[i]===s.d[i]&&i--;);if(i==-1)break}i=s,s=n,n=o,o=i}return J=!0,o.d.length=f+1,o}function Fr(e,t){for(var r=e;--t;)r*=e;return r}function Ru(e,t){var r,n=t.s<0,u=Qe(e,e.precision,1),i=u.times(.5);if(t=t.abs(),t.lte(i))return st=n?4:1,t;if(r=t.divToInt(u),r.isZero())st=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(i))return st=Tn(r)?n?2:3:n?4:1,t;st=Tn(r)?n?1:4:n?3:2}return t.minus(u).abs()}function dn(e,t,r,n){var u,i,o,s,a,l,f,h,p,g=e.constructor,E=r!==void 0;if(E?(Ue(r,1,lt),n===void 0?n=g.rounding:Ue(n,0,8)):(r=g.precision,n=g.rounding),!e.isFinite())f=zu(e);else{for(f=et(e),o=f.indexOf("."),E?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(f=f.replace(".",""),p=new g(1),p.e=f.length-o,p.d=Qt(et(p),10,u),p.e=p.d.length),h=Qt(f,10,u),i=a=h.length;h[--a]==0;)h.pop();if(!h[0])f=E?"0p+0":"0";else{if(o<0?i--:(e=new g(e),e.d=h,e.e=i,e=he(e,p,r,n,0,u),h=e.d,i=e.e,l=Mu),o=h[r],s=u/2,l=l||h[r+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(e.s<0?3:2)):o>s||o===s&&(n===4||l||n===6&&h[r-1]&1||n===(e.s<0?8:7)),h.length=r,l)for(;++h[--r]>u-1;)h[r]=0,r||(++i,h.unshift(1));for(a=h.length;!h[a-1];--a);for(o=0,f="";o<a;o++)f+=rn.charAt(h[o]);if(E){if(a>1)if(t==16||t==8){for(o=t==16?4:3,--a;a%o;a++)f+="0";for(h=Qt(f,u,t),a=h.length;!h[a-1];--a);for(o=1,f="1.";o<a;o++)f+=rn.charAt(h[o])}else f=f.charAt(0)+"."+f.slice(1);f=f+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)f="0"+f;f="0."+f}else if(++i>a)for(i-=a;i--;)f+="0";else i<a&&(f=f.slice(0,i)+"."+f.slice(i))}f=(t==16?"0x":t==2?"0b":t==8?"0o":"")+f}return e.s<0?"-"+f:f}function xn(e,t){if(e.length>t)return e.length=t,!0}function Ns(e){return new this(e).abs()}function Ms(e){return new this(e).acos()}function Ss(e){return new this(e).acosh()}function Ts(e,t){return new this(e).plus(t)}function xs(e){return new this(e).asin()}function Os(e){return new this(e).asinh()}function Is(e){return new this(e).atan()}function Ps(e){return new this(e).atanh()}function $s(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Qe(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Qe(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Qe(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(he(e,t,i,1)),t=Qe(this,i,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(he(e,t,i,1)),r}function zs(e){return new this(e).cbrt()}function Rs(e){return V(e=new this(e),e.e+1,2)}function Ls(e,t,r){return new this(e).clamp(t,r)}function qs(e){if(!e||typeof e!="object")throw Error(wr+"Object expected");var t,r,n,u=e.defaults===!0,i=["precision",1,lt,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,tn,"maxE",0,tn,"minE",-9e15,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],u&&(this[r]=nn[r]),(n=e[r])!==void 0)if($e(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ct+r+": "+n);if(r="crypto",u&&(this[r]=nn[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Tu);else this[r]=!1;else throw Error(ct+r+": "+n);return this}function ks(e){return new this(e).cos()}function Us(e){return new this(e).cosh()}function Lu(e){var t,r,n;function u(i){var o,s,a,l=this;if(!(l instanceof u))return new u(i);if(l.constructor=u,On(i)){l.s=i.s,J?!i.d||i.e>u.maxE?(l.e=NaN,l.d=null):i.e<u.minE?(l.e=0,l.d=[0]):(l.e=i.e,l.d=i.d.slice()):(l.e=i.e,l.d=i.d?i.d.slice():i.d);return}if(a=typeof i,a==="number"){if(i===0){l.s=1/i<0?-1:1,l.e=0,l.d=[0];return}if(i<0?(i=-i,l.s=-1):l.s=1,i===~~i&&i<1e7){for(o=0,s=i;s>=10;s/=10)o++;J?o>u.maxE?(l.e=NaN,l.d=null):o<u.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[i]):(l.e=o,l.d=[i]);return}if(i*0!==0){i||(l.s=NaN),l.e=NaN,l.d=null;return}return er(l,i.toString())}if(a==="string")return(s=i.charCodeAt(0))===45?(i=i.slice(1),l.s=-1):(s===43&&(i=i.slice(1)),l.s=1),Ou.test(i)?er(l,i):Bs(l,i);if(a==="bigint")return i<0?(i=-i,l.s=-1):l.s=1,er(l,i.toString());throw Error(ct+i)}if(u.prototype=P,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=qs,u.clone=Lu,u.isDecimal=On,u.abs=Ns,u.acos=Ms,u.acosh=Ss,u.add=Ts,u.asin=xs,u.asinh=Os,u.atan=Is,u.atanh=Ps,u.atan2=$s,u.cbrt=zs,u.ceil=Rs,u.clamp=Ls,u.cos=ks,u.cosh=Us,u.div=Zs,u.exp=Hs,u.floor=Gs,u.hypot=Vs,u.ln=Ys,u.log=js,u.log10=Xs,u.log2=Ws,u.max=Js,u.min=Ks,u.mod=Qs,u.mul=ea,u.pow=ta,u.random=ra,u.round=na,u.sign=ua,u.sin=ia,u.sinh=oa,u.sqrt=sa,u.sub=aa,u.sum=fa,u.tan=ca,u.tanh=la,u.trunc=ha,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function Zs(e,t){return new this(e).div(t)}function Hs(e){return new this(e).exp()}function Gs(e){return V(e=new this(e),e.e+1,3)}function Vs(){var e,t,r=new this(0);for(J=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return J=!0,new this(1/0);r=t}return J=!0,r.sqrt()}function On(e){return e instanceof St||e&&e.toStringTag===xu||!1}function Ys(e){return new this(e).ln()}function js(e,t){return new this(e).log(t)}function Ws(e){return new this(e).log(2)}function Xs(e){return new this(e).log(10)}function Js(){return $u(this,arguments,-1)}function Ks(){return $u(this,arguments,1)}function Qs(e,t){return new this(e).mod(t)}function ea(e,t){return new this(e).mul(t)}function ta(e,t){return new this(e).pow(t)}function ra(e){var t,r,n,u,i=0,o=new this(1),s=[];if(e===void 0?e=this.precision:Ue(e,1,lt),n=Math.ceil(e/X),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)u=t[i],u>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)u=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,i):(s.push(u%1e7),i+=4);i=n/4}else throw Error(Tu);else for(;i<n;)s[i++]=Math.random()*1e7|0;for(n=s[--i],e%=X,n&&e&&(u=Me(10,X-e),s[i]=(n/u|0)*u);s[i]===0;i--)s.pop();if(i<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=X)s.shift();for(n=1,u=s[0];u>=10;u/=10)n++;n<X&&(r-=X-n)}return o.e=r,o.d=s,o}function na(e){return V(e=new this(e),e.e+1,this.rounding)}function ua(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function ia(e){return new this(e).sin()}function oa(e){return new this(e).sinh()}function sa(e){return new this(e).sqrt()}function aa(e,t){return new this(e).sub(t)}function fa(){var e=0,t=arguments,r=new this(t[e]);for(J=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return J=!0,V(r,this.precision,this.rounding)}function ca(e){return new this(e).tan()}function la(e){return new this(e).tanh()}function ha(e){return V(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var St=P.constructor=Lu(nn);cr=new St(cr);lr=new St(lr);var pa="BigNumber",da=["?on","config"],Da=ue(pa,da,e=>{var{on:t,config:r}=e,n=St.clone({precision:r.precision,modulo:St.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const Ie=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ye=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},ma=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},xr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Et=function(){throw SyntaxError("Invalid Param")};function Or(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const ga={re:0,im:0},mt=function(e,t){const r=ga;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return x.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return x.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Et();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&Et();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?u++:s==="-"?i++:s==="i"||s==="I"?(u+i===0&&Et(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((i%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(s))&&Et(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+s),o++):r.re+=parseFloat((i%2?"-":"")+s),u=i=0))}u+i>0&&Et();break;case"number":r.im=0,r.re=e;break;default:Et()}return isNaN(r.re)||isNaN(r.im),r};function x(e,t){if(!(this instanceof x))return new x(e,t);const r=mt(e,t);this.re=r.re,this.im=r.im}x.prototype={re:0,im:0,sign:function(){const e=xr(this.re,this.im);return new x(this.re/e,this.im/e)},add:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?x.NAN:x.INFINITY:new x(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?x.NAN:x.INFINITY:new x(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||u&&i?x.NAN:n||u?x.INFINITY:r.im===0&&this.im===0?new x(this.re*r.re,0):new x(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||n&&u)return x.NAN;if(o||n)return x.INFINITY;if(i||u)return x.ZERO;if(r.im===0)return new x(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,a=r.re*s+r.im;return new x((this.re*s+this.im)/a,(this.im*s-this.re)/a)}else{const s=r.im/r.re,a=r.im*s+r.re;return new x((this.re+this.im*s)/a,(this.im-this.re*s)/a)}},pow:function(e,t){const r=mt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return x.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new x(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new x(Math.pow(this.im,r.re),0);case 1:return new x(0,Math.pow(this.im,r.re));case 2:return new x(-Math.pow(this.im,r.re),0);case 3:return new x(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return x.ZERO;const i=Math.atan2(this.im,this.re),o=Or(this.re,this.im);let s=Math.exp(r.re*o-r.im*i),a=r.im*o+r.re*i;return new x(s*Math.cos(a),s*Math.sin(a))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new x(Math.sqrt(e),0):new x(0,Math.sqrt(-e));const r=xr(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),u=Math.abs(t)/(2*n);return e>=0?new x(n,t<0?-u:u):new x(u,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new x(e,0):new x(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new x(Math.expm1(e)*Math.cos(t)+ma(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new x(Math.log(e),0):new x(Or(e,t),Math.atan2(t,e))},abs:function(){return xr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new x(Math.sin(e)*Ie(t),Math.cos(e)*Ye(t))},cos:function(){const e=this.re,t=this.im;return new x(Math.cos(e)*Ie(t),-Math.sin(e)*Ye(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Ie(t);return new x(Math.sin(e)/r,Ye(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Ie(t);return new x(-Math.sin(e)/r,Ye(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Ie(2*t)+.5*Math.cos(2*e);return new x(Math.cos(e)*Ie(t)/r,Math.sin(e)*Ye(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Ie(2*t)-.5*Math.cos(2*e);return new x(Math.sin(e)*Ie(t)/r,-Math.cos(e)*Ye(t)/r)},asin:function(){const e=this.re,t=this.im,r=new x(t*t-e*e+1,-2*e*t).sqrt(),n=new x(r.re-t,r.im+e).log();return new x(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new x(t*t-e*e+1,-2*e*t).sqrt(),n=new x(r.re-t,r.im+e).log();return new x(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new x(0,1/0);if(t===-1)return new x(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new x((1-t*t-e*e)/r,-2*e/r).log();return new x(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new x(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new x(e/r,-t/r).atan():new x(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new x(0,1/0);const r=e*e+t*t;return r!==0?new x(e/r,-t/r).acos():new x(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new x(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new x(e/r,-t/r).asin():new x(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new x(Ye(e)*Math.cos(t),Ie(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new x(Ie(e)*Math.cos(t),Ye(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Ie(e)+Math.cos(t);return new x(Ye(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Ie(e)-Math.cos(t);return new x(Ye(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Ie(2*e);return new x(-2*Ye(e)*Math.cos(t)/r,2*Ie(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Ie(2*e);return new x(2*Ie(e)*Math.cos(t)/r,-2*Ye(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,u=1+e,i=n*n+t*t,o=i!==0?new x((u*n-t*t)/i,(t*n+u*t)/i):new x(e!==-1?e/0:0,t!==0?t/0:0),s=o.re;return o.re=Or(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new x(0,Math.PI/2);const r=e*e+t*t;return r!==0?new x(e/r,-t/r).atanh():new x(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new x(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new x(e/r,-t/r).asinh():new x(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return x.INFINITY;const r=e*e+t*t;return r!==0?new x(e/r,-t/r).acosh():new x(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return x.INFINITY;if(this.isInfinite())return x.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new x(e/r,-t/r)},conjugate:function(){return new x(this.re,-this.im)},neg:function(){return new x(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new x(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new x(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new x(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=mt(e,t);return Math.abs(r.re-this.re)<=x.EPSILON&&Math.abs(r.im-this.im)<=x.EPSILON},clone:function(){return new x(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<x.EPSILON&&(e=0),Math.abs(t)<x.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};x.ZERO=new x(0,0);x.ONE=new x(1,0);x.I=new x(0,1);x.PI=new x(Math.PI,0);x.E=new x(Math.E,0);x.INFINITY=new x(1/0,1/0);x.NAN=new x(NaN,NaN);x.EPSILON=1e-15;var va="Complex",wa=[],ba=ue(va,wa,()=>(Object.defineProperty(x,"name",{value:"Complex"}),x.prototype.constructor=x,x.prototype.type="Complex",x.prototype.isComplex=!0,x.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},x.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},x.prototype.format=function(e){var t="",r=this.im,n=this.re,u=en(this.re,e),i=en(this.im,e),o=De(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=u+" - i":t=u+" - "+i.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+i+"i",t},x.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return x(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(De(r)){if(Eu(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),De(n))return new x({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},x.prototype.valueOf=x.prototype.toString,x.fromJSON=function(e){return new x(e)},x.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},x),{isClass:!0});function Fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ir={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var In;function Ea(){return In||(In=1,function(e,t){(function(r){var n=2e3,u={s:1,n:0,d:1};function i(d,F){if(isNaN(d=parseInt(d,10)))throw c();return d*F}function o(d,F){if(F===0)throw E();var m=Object.create(g.prototype);m.s=d<0?-1:1,d=d<0?-d:d;var A=p(d,F);return m.n=d/A,m.d=F/A,m}function s(d){for(var F={},m=d,A=2,w=4;w<=m;){for(;m%A===0;)m/=A,F[A]=(F[A]||0)+1;w+=1+2*A++}return m!==d?m>1&&(F[m]=(F[m]||0)+1):F[d]=(F[d]||0)+1,F}var a=function(d,F){var m=0,A=1,w=1,D=0,b=0,C=0,B=1,S=1,N=0,M=1,k=1,G=1,H=1e7,z;if(d!=null)if(F!==void 0){if(m=d,A=F,w=m*A,m%1!==0||A%1!==0)throw v()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)m=d.n,A=d.d,"s"in d&&(m*=d.s);else if(0 in d)m=d[0],1 in d&&(A=d[1]);else throw c();w=m*A;break}case"number":{if(d<0&&(w=d,d=-d),d%1===0)m=d;else if(d>0){for(d>=1&&(S=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=S);M<=H&&G<=H;)if(z=(N+k)/(M+G),d===z){M+G<=H?(m=N+k,A=M+G):G>M?(m=k,A=G):(m=N,A=M);break}else d>z?(N+=k,M+=G):(k+=N,G+=M),M>H?(m=k,A=G):(m=N,A=M);m*=S}else(isNaN(d)||isNaN(F))&&(A=m=NaN);break}case"string":{if(M=d.match(/\d+|./g),M===null)throw c();if(M[N]==="-"?(w=-1,N++):M[N]==="+"&&N++,M.length===N+1?b=i(M[N++],w):M[N+1]==="."||M[N]==="."?(M[N]!=="."&&(D=i(M[N++],w)),N++,(N+1===M.length||M[N+1]==="("&&M[N+3]===")"||M[N+1]==="'"&&M[N+3]==="'")&&(b=i(M[N],w),B=Math.pow(10,M[N].length),N++),(M[N]==="("&&M[N+2]===")"||M[N]==="'"&&M[N+2]==="'")&&(C=i(M[N+1],w),S=Math.pow(10,M[N+1].length)-1,N+=3)):M[N+1]==="/"||M[N+1]===":"?(b=i(M[N],w),B=i(M[N+2],1),N+=3):M[N+3]==="/"&&M[N+1]===" "&&(D=i(M[N],w),b=i(M[N+2],w),B=i(M[N+4],1),N+=5),M.length<=N){A=B*S,w=m=C+A*D+S*b;break}}default:throw c()}if(A===0)throw E();u.s=w<0?-1:1,u.n=Math.abs(m),u.d=Math.abs(A)};function l(d,F,m){for(var A=1;F>0;d=d*d%m,F>>=1)F&1&&(A=A*d%m);return A}function f(d,F){for(;F%2===0;F/=2);for(;F%5===0;F/=5);if(F===1)return 0;for(var m=10%F,A=1;m!==1;A++)if(m=m*10%F,A>n)return 0;return A}function h(d,F,m){for(var A=1,w=l(10,m,F),D=0;D<300;D++){if(A===w)return D;A=A*10%F,w=w*10%F}return 0}function p(d,F){if(!d)return F;if(!F)return d;for(;;){if(d%=F,!d)return F;if(F%=d,!F)return d}}function g(d,F){if(a(d,F),this instanceof g)d=p(u.d,u.n),this.s=u.s,this.n=u.n/d,this.d=u.d/d;else return o(u.s*u.n,u.d)}var E=function(){return new Error("Division by Zero")},c=function(){return new Error("Invalid argument")},v=function(){return new Error("Parameters must be integer")};g.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(d,F){return a(d,F),o(this.s*this.n*u.d+u.s*this.d*u.n,this.d*u.d)},sub:function(d,F){return a(d,F),o(this.s*this.n*u.d-u.s*this.d*u.n,this.d*u.d)},mul:function(d,F){return a(d,F),o(this.s*u.s*this.n*u.n,this.d*u.d)},div:function(d,F){return a(d,F),o(this.s*u.s*this.n*u.d,this.d*u.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(d,F){if(isNaN(this.n)||isNaN(this.d))return new g(NaN);if(d===void 0)return o(this.s*this.n%this.d,1);if(a(d,F),u.n===0&&this.d===0)throw E();return o(this.s*(u.d*this.n)%(u.n*this.d),u.d*this.d)},gcd:function(d,F){return a(d,F),o(p(u.n,this.n)*p(u.d,this.d),u.d*this.d)},lcm:function(d,F){return a(d,F),u.n===0&&this.n===0?o(0,1):o(u.n*this.n,p(u.n,this.n)*p(u.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):o(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):o(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new g(NaN):o(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(d,F){if(a(d,F),u.d===1)return u.s<0?o(Math.pow(this.s*this.d,u.n),Math.pow(this.n,u.n)):o(Math.pow(this.s*this.n,u.n),Math.pow(this.d,u.n));if(this.s<0)return null;var m=s(this.n),A=s(this.d),w=1,D=1;for(var b in m)if(b!=="1"){if(b==="0"){w=0;break}if(m[b]*=u.n,m[b]%u.d===0)m[b]/=u.d;else return null;w*=Math.pow(b,m[b])}for(var b in A)if(b!=="1"){if(A[b]*=u.n,A[b]%u.d===0)A[b]/=u.d;else return null;D*=Math.pow(b,A[b])}return u.s<0?o(D,w):o(w,D)},equals:function(d,F){return a(d,F),this.s*this.n*u.d===u.s*u.n*this.d},compare:function(d,F){a(d,F);var m=this.s*this.n*u.d-u.s*u.n*this.d;return(0<m)-(m<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var F=this.abs(),m=F.toContinued(),A=1;A<m.length;A++){for(var w=o(m[A-1],1),D=A-2;D>=0;D--)w=w.inverse().add(m[D]);if(Math.abs(w.sub(F).valueOf())<d)return w.mul(this.s)}return this},divisible:function(d,F){return a(d,F),!(!(u.n*this.d)||this.n*u.d%(u.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var F,m="",A=this.n,w=this.d;return this.s<0&&(m+="-"),w===1?m+=A:(d&&(F=Math.floor(A/w))>0&&(m+=F,m+=" ",A%=w),m+=A,m+="/",m+=w),m},toLatex:function(d){var F,m="",A=this.n,w=this.d;return this.s<0&&(m+="-"),w===1?m+=A:(d&&(F=Math.floor(A/w))>0&&(m+=F,A%=w),m+="\\frac{",m+=A,m+="}{",m+=w,m+="}"),m},toContinued:function(){var d,F=this.n,m=this.d,A=[];if(isNaN(F)||isNaN(m))return A;do A.push(Math.floor(F/m)),d=F%m,F=m,m=d;while(F!==1);return A},toString:function(d){var F=this.n,m=this.d;if(isNaN(F)||isNaN(m))return"NaN";d=d||15;var A=f(F,m),w=h(F,m,A),D=this.s<0?"-":"";if(D+=F/m|0,F%=m,F*=10,F&&(D+="."),A){for(var b=w;b--;)D+=F/m|0,F%=m,F*=10;D+="(";for(var b=A;b--;)D+=F/m|0,F%=m,F*=10;D+=")"}else for(var b=d;F&&b--;)D+=F/m|0,F%=m,F*=10;return D}},Object.defineProperty(g,"__esModule",{value:!0}),g.default=g,g.Fraction=g,e.exports=g})()}(Ir)),Ir.exports}var ya=Ea();const ut=Fa(ya);var Aa="Fraction",Ca=[],Ba=ue(Aa,Ca,()=>(Object.defineProperty(ut,"name",{value:"Fraction"}),ut.prototype.constructor=ut,ut.prototype.type="Fraction",ut.prototype.isFraction=!0,ut.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ut.fromJSON=function(e){return new ut(e)},ut),{isClass:!0}),_a="Matrix",Na=[],Ma=ue(_a,Na,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Pr(e,t,r){var n=e.constructor,u=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!me(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Sa(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:u}=Au(t);switch(r){case"fixed":return xa(e,n);case"exponential":return Pn(e,n);case"engineering":return Ta(e,n);case"bin":return Pr(e,2,u);case"oct":return Pr(e,8,u);case"hex":return Pr(e,16,u);case"auto":{var i=$n(t==null?void 0:t.lowerExp,-3),o=$n(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var s,a=e.toSignificantDigits(n),l=a.e;return l>=i&&l<o?s=a.toFixed():s=Pn(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],h=arguments[4];return f!=="."?f+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ta(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function Pn(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function xa(e,t){return e.toFixed(t)}function $n(e,t){return De(e)?e:_e(e)?e.toNumber():t}function Be(e,t){var r=Oa(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function Oa(e,t){if(typeof e=="number")return en(e,t);if(_e(e))return Sa(e,t);if(Ia(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return qu(e,t);if(Ke(e))return zn(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>zn(n)+": "+Be(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function zn(e){for(var t=String(e),r="",n=0;n<t.length;){var u=t.charAt(n);r+=u in Rn?Rn[u]:u,n++}return'"'+r+'"'}var Rn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function qu(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=qu(e[u],t);return r+="]",r}else return Be(e,t)}function Ia(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function ge(e,t,r){if(!(this instanceof ge))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}ge.prototype=new RangeError;ge.prototype.constructor=RangeError;ge.prototype.name="DimensionError";ge.prototype.isDimensionError=!0;function Ot(e,t,r){if(!(this instanceof Ot))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ot.prototype=new RangeError;Ot.prototype.constructor=RangeError;Ot.prototype.name="IndexError";Ot.prototype.isIndexError=!0;function Ze(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function ku(e,t,r){var n,u=e.length;if(u!==t[r])throw new ge(u,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new ge(t.length-1,t.length,"<");ku(e[n],t,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new ge(t.length+1,t.length,">")}function Ln(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new ge(e.length,0)}else ku(e,t,0)}function we(e,t){if(e!==void 0){if(!De(e)||!me(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Ot(e,t)}}function sn(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!De(u)||!me(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(t)+")")}),(De(e)||_e(e))&&(e=[e]);var n=r!==void 0?r:0;return an(e,t,0,n),e}function an(e,t,r,n){var u,i,o=e.length,s=t[r],a=Math.min(o,s);if(e.length=s,r<t.length-1){var l=r+1;for(u=0;u<a;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),an(i,t,l,n);for(u=a;u<s;u++)i=[],e[u]=i,an(i,t,l,n)}else{for(u=0;u<a;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=a;u<s;u++)e[u]=n}}function Uu(e,t){var r=$a(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new ge(0,n,"!=");t=Dn(t,n);var u=Zu(t);if(n!==u)throw new ge(u,n,"!=");try{return Pa(r,t)}catch(i){throw i instanceof ge?new ge(u,n,"!="):i}}function Dn(e,t){var r=Zu(e),n=e.slice(),u=-1,i=e.indexOf(u),o=e.indexOf(u,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=i>=0,a=t%r===0;if(s)if(a)n[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Zu(e){return e.reduce((t,r)=>t*r,1)}function Pa(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var i=t[u];n=[];for(var o=r.length/i,s=0;s<o;s++)n.push(r.slice(s*i,(s+1)*i));r=n}return r}function Hu(e,t,r,n){var u=n||Ze(e);if(r)for(var i=0;i<r;i++)e=[e],u.unshift(1);for(e=Gu(e,t,0);u.length<t;)u.push(1);return e}function Gu(e,t,r){var n,u;if(Array.isArray(e)){var i=r+1;for(n=0,u=e.length;n<u;n++)e[n]=Gu(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function $a(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function pr(e,t){for(var r,n=0,u=0;u<e.length;u++){var i=e[u],o=Array.isArray(i);if(u===0&&o&&(n=i.length),o&&i.length!==n)return;var s=o?pr(i,t):t(i);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function Vu(e,t,r,n){if(n<r){if(e.length!==t.length)throw new ge(e.length,t.length);for(var u=[],i=0;i<e.length;i++)u[i]=Vu(e[i],t[i],r,n+1);return u}else return e.concat(t)}function za(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return Vu(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Ra(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(p=>p.length),u=Math.max(...n),i=new Array(u).fill(null),o=0;o<t.length;o++)for(var s=t[o],a=n[o],l=0;l<a;l++){var f=u-a+l;s[l]>i[f]&&(i[f]=s[l])}for(var h=0;h<t.length;h++)Yu(t[h],i);return i}function Yu(e,t){for(var r=t.length,n=e.length,u=0;u<n;u++){var i=r-n+u;if(e[u]<t[i]&&e[u]>1||e[u]>t[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(t[i]))}}function qn(e,t){var r=Ze(e);if(Nt(r,t))return e;Yu(r,t);var n=Ra(r,t),u=n.length,i=[...Array(u-r.length).fill(1),...r],o=qa(e);r.length<u&&(o=Uu(o,i),r=Ze(o));for(var s=0;s<u;s++)r[s]<n[s]&&(o=La(o,n[s],s),r=Ze(o));return o}function La(e,t,r){return za(...Array(t).fill(e),r)}function qa(e){return or([],e)}function ju(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}var ka="DenseMatrix",Ua=["Matrix"],Za=ue(ka,Ua,e=>{var{Matrix:t}=e;function r(f,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!Ke(h))throw new Error("Invalid datatype: "+h);if(Se(f))f.type==="DenseMatrix"?(this._data=Ee(f._data),this._size=Ee(f._size),this._datatype=h||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=h||f._datatype);else if(f&&ve(f.data)&&ve(f.size))this._data=f.data,this._size=f.size,Ln(this._data,this._size),this._datatype=h||f.datatype;else if(ve(f))this._data=l(f),this._size=Ze(this._data),Ln(this._data,this._size),this._datatype=h;else{if(f)throw new TypeError("Unsupported type of data ("+Ct(f)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(f,h){return new r(f,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return pr(this._data,Ct)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(f,h){return new r(f,h)},r.prototype.subset=function(f,h,p){switch(arguments.length){case 1:return n(this,f);case 2:case 3:return i(this,f,h,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(f){if(!ve(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new ge(f.length,this._size.length);for(var h=0;h<f.length;h++)we(f[h],this._size[h]);for(var p=this._data,g=0,E=f.length;g<E;g++){var c=f[g];we(c,p.length),p=p[c]}return p},r.prototype.set=function(f,h,p){if(!ve(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new ge(f.length,this._size.length,"<");var g,E,c,v=f.map(function(F){return F+1});a(this,v,p);var d=this._data;for(g=0,E=f.length-1;g<E;g++)c=f[g],we(c,d.length),d=d[c];return c=f[f.length-1],we(c,d.length),d[c]=h,this};function n(f,h){if(!hn(h))throw new TypeError("Invalid index");var p=h.isScalar();if(p)return f.get(h.min());var g=h.size();if(g.length!==f._size.length)throw new ge(g.length,f._size.length);for(var E=h.min(),c=h.max(),v=0,d=f._size.length;v<d;v++)we(E[v],f._size[v]),we(c[v],f._size[v]);return new r(u(f._data,h,g.length,0),f._datatype)}function u(f,h,p,g){var E=g===p-1,c=h.dimension(g);return E?c.map(function(v){return we(v,f.length),f[v]}).valueOf():c.map(function(v){we(v,f.length);var d=f[v];return u(d,h,p,g+1)}).valueOf()}function i(f,h,p,g){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var E=h.size(),c=h.isScalar(),v;if(Se(p)?(v=p.size(),p=p.valueOf()):v=Ze(p),c){if(v.length!==0)throw new TypeError("Scalar expected");f.set(h.min(),p,g)}else{if(!Nt(v,E))try{v.length===0?p=qn([p],E):p=qn(p,E),v=Ze(p)}catch(D){}if(E.length<f._size.length)throw new ge(E.length,f._size.length,"<");if(v.length<E.length){for(var d=0,F=0;E[d]===1&&v[d]===1;)d++;for(;E[d]===1;)F++,d++;p=Hu(p,E.length,F,v)}if(!Nt(E,v))throw new ge(E,v,">");var m=h.max().map(function(D){return D+1});a(f,m,g);var A=E.length,w=0;o(f._data,h,p,A,w)}return f}function o(f,h,p,g,E){var c=E===g-1,v=h.dimension(E);c?v.forEach(function(d,F){we(d),f[d]=p[F[0]]}):v.forEach(function(d,F){we(d),o(f[d],h,p[F[0]],g,E+1)})}r.prototype.resize=function(f,h,p){if(!sr(f))throw new TypeError("Array or Matrix expected");var g=f.valueOf().map(c=>Array.isArray(c)&&c.length===1?c[0]:c),E=p?this.clone():this;return s(E,g,h)};function s(f,h,p){if(h.length===0){for(var g=f._data;ve(g);)g=g[0];return g}return f._size=h.slice(0),f._data=sn(f._data,f._size,p),f}r.prototype.reshape=function(f,h){var p=h?this.clone():this;p._data=Uu(p._data,f);var g=p._size.reduce((E,c)=>E*c);return p._size=Dn(f,g),p};function a(f,h,p){for(var g=f._size.slice(0),E=!1;g.length<h.length;)g.push(0),E=!0;for(var c=0,v=h.length;c<v;c++)h[c]>g[c]&&(g[c]=h[c],E=!0);E&&s(f,g,p)}r.prototype.clone=function(){var f=new r({data:Ee(this._data),size:Ee(this._size),datatype:this._datatype});return f},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(f){var h=this,p=ju(f),g=function v(d,F){return ve(d)?d.map(function(m,A){return v(m,F.concat(A))}):p===1?f(d):p===2?f(d,F):f(d,F,h)},E=g(this._data,[]),c=this._datatype!==void 0?pr(E,Ct):void 0;return new r(E,c)},r.prototype.forEach=function(f){var h=this,p=function g(E,c){ve(E)?E.forEach(function(v,d){g(v,c.concat(d))}):f(E,c,h)};p(this._data,[])},r.prototype[Symbol.iterator]=function*(){var f=function*h(p,g){if(ve(p))for(var E=0;E<p.length;E++)yield*Nr(h(p[E],g.concat(E)));else yield{value:p,index:g}};yield*Nr(f(this._data,[]))},r.prototype.rows=function(){var f=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var g of p)f.push(new r([g],this._datatype));return f},r.prototype.columns=function(){var f=this,h=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var g=this._data,E=function(d){var F=g.map(m=>[m[d]]);h.push(new r(F,f._datatype))},c=0;c<p[1];c++)E(c);return h},r.prototype.toArray=function(){return Ee(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(f){return Be(this._data,f)},r.prototype.toString=function(){return Be(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(f){if(f){if(_e(f)&&(f=f.toNumber()),!De(f)||!me(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var h=f>0?f:0,p=f<0?-f:0,g=this._size[0],E=this._size[1],c=Math.min(g-p,E-h),v=[],d=0;d<c;d++)v[d]=this._data[d+p][d+h];return new r({data:v,size:[c],datatype:this._datatype})},r.diagonal=function(f,h,p,g){if(!ve(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(b){if(_e(b)&&(b=b.toNumber()),!De(b)||!me(b)||b<1)throw new Error("Size values must be positive integers");return b}),p){if(_e(p)&&(p=p.toNumber()),!De(p)||!me(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var E=p>0?p:0,c=p<0?-p:0,v=f[0],d=f[1],F=Math.min(v-c,d-E),m;if(ve(h)){if(h.length!==F)throw new Error("Invalid value array length");m=function(C){return h[C]}}else if(Se(h)){var A=h.size();if(A.length!==1||A[0]!==F)throw new Error("Invalid matrix length");m=function(C){return h.get([C])}}else m=function(){return h};g||(g=_e(m(0))?m(0).mul(0):0);var w=[];if(f.length>0){w=sn(w,f,g);for(var D=0;D<F;D++)w[D+c][D+E]=m(D)}return new r({data:w,size:[v,d]})},r.fromJSON=function(f){return new r(f)},r.prototype.swapRows=function(f,h){if(!De(f)||!me(f)||!De(h)||!me(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return we(f,this._size[0]),we(h,this._size[0]),r._swapRows(f,h,this._data),this},r._swapRows=function(f,h,p){var g=p[f];p[f]=p[h],p[h]=g};function l(f){return Se(f)?l(f.valueOf()):ve(f)?f.map(l):f}return r},{isClass:!0});function ht(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return ht(n,t)}):t(e)}var Wu="number",Er="number, number";function Xu(e){return Math.abs(e)}Xu.signature=Wu;function Ju(e,t){return e+t}Ju.signature=Er;function Ku(e,t){return e-t}Ku.signature=Er;function Qu(e,t){return e*t}Qu.signature=Er;function ei(e){return-e}ei.signature=Wu;function ti(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}ti.signature=Er;function fn(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return fn(e,r)*fn(r+1,t)}function ri(e,t){if(!me(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!me(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var r=e-t,n=1,u=t<r?r+1:t+1,i=2,o=t<r?t:r,s=u;s<=e;++s)for(n*=s;i<=o&&n%i===0;)n/=i,++i;return i<=o&&(n/=fn(i,o)),n}ri.signature="number, number";var Ha="number";function ni(e){return e===0}ni.signature=Ha;var kn="isZero",Ga=["typed"],Va=ue(kn,Ga,e=>{var{typed:t}=e;return t(kn,{number:ni,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:t.referToSelf(r=>n=>t.find(r,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(r=>n=>ht(n,r))})});function Ya(e,t,r){if(r==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var u=e.constructor.max(e.abs(),t.abs());return n.lte(u.times(r))}return!1}function ja(e,t,r){return fr(e.re,t.re,r)&&fr(e.im,t.im,r)}var Wa=ue("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),dr="equalScalar",Xa=["typed","config"],Ja=ue(dr,Xa,e=>{var{typed:t,config:r}=e,n=Wa({typed:t});return t(dr,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return fr(i,o,r.epsilon)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||Ya(i,o,r.epsilon)},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return ja(i,o,r.epsilon)}},n)});ue(dr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(dr,{"number, number":function(u,i){return fr(u,i,r.epsilon)}})});var Ka="SparseMatrix",Qa=["typed","equalScalar","Matrix"],ef=ue(Ka,Qa,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(c,v){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Ke(v))throw new Error("Invalid datatype: "+v);if(Se(c))i(this,c,v);else if(c&&ve(c.index)&&ve(c.ptr)&&ve(c.size))this._values=c.values,this._index=c.index,this._ptr=c.ptr,this._size=c.size,this._datatype=v||c.datatype;else if(ve(c))o(this,c,v);else{if(c)throw new TypeError("Unsupported type of data ("+Ct(c)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function i(c,v,d){v.type==="SparseMatrix"?(c._values=v._values?Ee(v._values):void 0,c._index=Ee(v._index),c._ptr=Ee(v._ptr),c._size=Ee(v._size),c._datatype=d||v._datatype):o(c,v.valueOf(),d||v._datatype)}function o(c,v,d){c._values=[],c._index=[],c._ptr=[],c._datatype=d;var F=v.length,m=0,A=r,w=0;if(Ke(d)&&(A=t.find(r,[d,d])||r,w=t.convert(0,d)),F>0){var D=0;do{c._ptr.push(c._index.length);for(var b=0;b<F;b++){var C=v[b];if(ve(C)){if(D===0&&m<C.length&&(m=C.length),D<C.length){var B=C[D];A(B,w)||(c._values.push(B),c._index.push(b))}}else D===0&&m<1&&(m=1),A(C,w)||(c._values.push(C),c._index.push(b))}D++}while(D<m)}c._ptr.push(c._index.length),c._size=[F,m]}u.prototype=new n,u.prototype.createSparseMatrix=function(c,v){return new u(c,v)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return pr(this._values,Ct)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(c,v){return new u(c,v)},u.prototype.density=function(){var c=this._size[0],v=this._size[1];return c!==0&&v!==0?this._index.length/(c*v):0},u.prototype.subset=function(c,v,d){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,c);case 2:case 3:return a(this,c,v,d);default:throw new SyntaxError("Wrong number of arguments")}};function s(c,v){if(!hn(v))throw new TypeError("Invalid index");var d=v.isScalar();if(d)return c.get(v.min());var F=v.size();if(F.length!==c._size.length)throw new ge(F.length,c._size.length);var m,A,w,D,b=v.min(),C=v.max();for(m=0,A=c._size.length;m<A;m++)we(b[m],c._size[m]),we(C[m],c._size[m]);var B=c._values,S=c._index,N=c._ptr,M=v.dimension(0),k=v.dimension(1),G=[],H=[];M.forEach(function(W,Q){H[W]=Q[0],G[W]=!0});var z=B?[]:void 0,Y=[],j=[];return k.forEach(function(W){for(j.push(Y.length),w=N[W],D=N[W+1];w<D;w++)m=S[w],G[m]===!0&&(Y.push(H[m]),z&&z.push(B[w]))}),j.push(Y.length),new u({values:z,index:Y,ptr:j,size:F,datatype:c._datatype})}function a(c,v,d,F){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var m=v.size(),A=v.isScalar(),w;if(Se(d)?(w=d.size(),d=d.toArray()):w=Ze(d),A){if(w.length!==0)throw new TypeError("Scalar expected");c.set(v.min(),d,F)}else{if(m.length!==1&&m.length!==2)throw new ge(m.length,c._size.length,"<");if(w.length<m.length){for(var D=0,b=0;m[D]===1&&w[D]===1;)D++;for(;m[D]===1;)b++,D++;d=Hu(d,m.length,b,w)}if(!Nt(m,w))throw new ge(m,w,">");if(m.length===1){var C=v.dimension(0);C.forEach(function(N,M){we(N),c.set([N,0],d[M[0]],F)})}else{var B=v.dimension(0),S=v.dimension(1);B.forEach(function(N,M){we(N),S.forEach(function(k,G){we(k),c.set([N,k],d[M[0]][G[0]],F)})})}}return c}u.prototype.get=function(c){if(!ve(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new ge(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=c[0],d=c[1];we(v,this._size[0]),we(d,this._size[1]);var F=l(v,this._ptr[d],this._ptr[d+1],this._index);return F<this._ptr[d+1]&&this._index[F]===v?this._values[F]:0},u.prototype.set=function(c,v,d){if(!ve(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new ge(c.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var F=c[0],m=c[1],A=this._size[0],w=this._size[1],D=r,b=0;Ke(this._datatype)&&(D=t.find(r,[this._datatype,this._datatype])||r,b=t.convert(0,this._datatype)),(F>A-1||m>w-1)&&(p(this,Math.max(F+1,A),Math.max(m+1,w),d),A=this._size[0],w=this._size[1]),we(F,A),we(m,w);var C=l(F,this._ptr[m],this._ptr[m+1],this._index);return C<this._ptr[m+1]&&this._index[C]===F?D(v,b)?f(C,m,this._values,this._index,this._ptr):this._values[C]=v:D(v,b)||h(C,F,m,v,this._values,this._index,this._ptr),this};function l(c,v,d,F){if(d-v===0)return d;for(var m=v;m<d;m++)if(F[m]===c)return m;return v}function f(c,v,d,F,m){d.splice(c,1),F.splice(c,1);for(var A=v+1;A<m.length;A++)m[A]--}function h(c,v,d,F,m,A,w){m.splice(c,0,F),A.splice(c,0,v);for(var D=d+1;D<w.length;D++)w[D]++}u.prototype.resize=function(c,v,d){if(!sr(c))throw new TypeError("Array or Matrix expected");var F=c.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(F.length!==2)throw new Error("Only two dimensions matrix are supported");F.forEach(function(A){if(!De(A)||!me(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(F)+")")});var m=d?this.clone():this;return p(m,F[0],F[1],v)};function p(c,v,d,F){var m=F||0,A=r,w=0;Ke(c._datatype)&&(A=t.find(r,[c._datatype,c._datatype])||r,w=t.convert(0,c._datatype),m=t.convert(m,c._datatype));var D=!A(m,w),b=c._size[0],C=c._size[1],B,S,N;if(d>C){for(S=C;S<d;S++)if(c._ptr[S]=c._values.length,D)for(B=0;B<b;B++)c._values.push(m),c._index.push(B);c._ptr[d]=c._values.length}else d<C&&(c._ptr.splice(d+1,C-d),c._values.splice(c._ptr[d],c._values.length),c._index.splice(c._ptr[d],c._index.length));if(C=d,v>b){if(D){var M=0;for(S=0;S<C;S++){c._ptr[S]=c._ptr[S]+M,N=c._ptr[S+1]+M;var k=0;for(B=b;B<v;B++,k++)c._values.splice(N+k,0,m),c._index.splice(N+k,0,B),M++}c._ptr[C]=c._values.length}}else if(v<b){var G=0;for(S=0;S<C;S++){c._ptr[S]=c._ptr[S]-G;var H=c._ptr[S],z=c._ptr[S+1]-G;for(N=H;N<z;N++)B=c._index[N],B>v-1&&(c._values.splice(N,1),c._index.splice(N,1),G++)}c._ptr[S]=c._values.length}return c._size[0]=v,c._size[1]=d,c}u.prototype.reshape=function(c,v){if(!ve(c))throw new TypeError("Array expected");if(c.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");c.forEach(function(W){if(!De(W)||!me(W)||W<=-2||W===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Be(c)+")")});var d=this._size[0]*this._size[1];c=Dn(c,d);var F=c[0]*c[1];if(d!==F)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var m=v?this.clone():this;if(this._size[0]===c[0]&&this._size[1]===c[1])return m;for(var A=[],w=0;w<m._ptr.length;w++)for(var D=0;D<m._ptr[w+1]-m._ptr[w];D++)A.push(w);for(var b=m._values.slice(),C=m._index.slice(),B=0;B<m._index.length;B++){var S=C[B],N=A[B],M=S*m._size[1]+N;A[B]=M%c[1],C[B]=Math.floor(M/c[1])}m._values.length=0,m._index.length=0,m._ptr.length=c[1]+1,m._size=c.slice();for(var k=0;k<m._ptr.length;k++)m._ptr[k]=0;for(var G=0;G<b.length;G++){var H=C[G],z=A[G],Y=b[G],j=l(H,m._ptr[z],m._ptr[z+1],m._index);h(j,H,z,Y,m._values,m._index,m._ptr)}return m},u.prototype.clone=function(){var c=new u({values:this._values?Ee(this._values):void 0,index:Ee(this._index),ptr:Ee(this._ptr),size:Ee(this._size),datatype:this._datatype});return c},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(c,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var d=this,F=this._size[0],m=this._size[1],A=ju(c),w=function(b,C,B){return A===1?c(b):A===2?c(b,[C,B]):c(b,[C,B],d)};return g(this,0,F-1,0,m-1,w,v)};function g(c,v,d,F,m,A,w){var D=[],b=[],C=[],B=r,S=0;Ke(c._datatype)&&(B=t.find(r,[c._datatype,c._datatype])||r,S=t.convert(0,c._datatype));for(var N=function(ne,ye,Fe){ne=A(ne,ye,Fe),B(ne,S)||(D.push(ne),b.push(ye))},M=F;M<=m;M++){C.push(D.length);var k=c._ptr[M],G=c._ptr[M+1];if(w)for(var H=k;H<G;H++){var z=c._index[H];z>=v&&z<=d&&N(c._values[H],z-v,M-F)}else{for(var Y={},j=k;j<G;j++){var W=c._index[j];Y[W]=c._values[j]}for(var Q=v;Q<=d;Q++){var oe=Q in Y?Y[Q]:0;N(oe,Q-v,M-F)}}}return C.push(D.length),new u({values:D,index:b,ptr:C,size:[d-v+1,m-F+1]})}u.prototype.forEach=function(c,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var d=this,F=this._size[0],m=this._size[1],A=0;A<m;A++){var w=this._ptr[A],D=this._ptr[A+1];if(v)for(var b=w;b<D;b++){var C=this._index[b];c(this._values[b],[C,A],d)}else{for(var B={},S=w;S<D;S++){var N=this._index[S];B[N]=this._values[S]}for(var M=0;M<F;M++){var k=M in B?B[M]:0;c(k,[M,A],d)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var c=this._size[1],v=0;v<c;v++)for(var d=this._ptr[v],F=this._ptr[v+1],m=d;m<F;m++){var A=this._index[m];yield{value:this._values[m],index:[A,v]}}},u.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)};function E(c,v,d,F,m){var A=F[0],w=F[1],D=[],b,C;for(b=0;b<A;b++)for(D[b]=[],C=0;C<w;C++)D[b][C]=0;for(C=0;C<w;C++)for(var B=d[C],S=d[C+1],N=B;N<S;N++)b=v[N],D[b][C]=c?m?Ee(c[N]):c[N]:1;return D}return u.prototype.format=function(c){for(var v=this._size[0],d=this._size[1],F=this.density(),m="Sparse Matrix ["+Be(v,c)+" x "+Be(d,c)+"] density: "+Be(F,c)+`
`,A=0;A<d;A++)for(var w=this._ptr[A],D=this._ptr[A+1],b=w;b<D;b++){var C=this._index[b];m+=`
    (`+Be(C,c)+", "+Be(A,c)+") ==> "+(this._values?Be(this._values[b],c):"X")}return m},u.prototype.toString=function(){return Be(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(c){if(c){if(_e(c)&&(c=c.toNumber()),!De(c)||!me(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var v=c>0?c:0,d=c<0?-c:0,F=this._size[0],m=this._size[1],A=Math.min(F-d,m-v),w=[],D=[],b=[];b[0]=0;for(var C=v;C<m&&w.length<A;C++)for(var B=this._ptr[C],S=this._ptr[C+1],N=B;N<S;N++){var M=this._index[N];if(M===C-v+d){w.push(this._values[N]),D[w.length-1]=M-d;break}}return b.push(w.length),new u({values:w,index:D,ptr:b,size:[A,1]})},u.fromJSON=function(c){return new u(c)},u.diagonal=function(c,v,d,F,m){if(!ve(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(W){if(_e(W)&&(W=W.toNumber()),!De(W)||!me(W)||W<1)throw new Error("Size values must be positive integers");return W}),d){if(_e(d)&&(d=d.toNumber()),!De(d)||!me(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var A=r,w=0;Ke(m)&&(A=t.find(r,[m,m])||r,w=t.convert(0,m));var D=d>0?d:0,b=d<0?-d:0,C=c[0],B=c[1],S=Math.min(C-b,B-D),N;if(ve(v)){if(v.length!==S)throw new Error("Invalid value array length");N=function(Q){return v[Q]}}else if(Se(v)){var M=v.size();if(M.length!==1||M[0]!==S)throw new Error("Invalid matrix length");N=function(Q){return v.get([Q])}}else N=function(){return v};for(var k=[],G=[],H=[],z=0;z<B;z++){H.push(k.length);var Y=z-D;if(Y>=0&&Y<S){var j=N(Y);A(j,w)||(G.push(Y+b),k.push(j))}}return H.push(k.length),new u({values:k,index:G,ptr:H,size:[C,B]})},u.prototype.swapRows=function(c,v){if(!De(c)||!me(c)||!De(v)||!me(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return we(c,this._size[0]),we(v,this._size[0]),u._swapRows(c,v,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(c,v,d,F,m){for(var A=F[c],w=F[c+1],D=A;D<w;D++)m(d[D],v[D])},u._swapRows=function(c,v,d,F,m,A){for(var w=0;w<d;w++){var D=A[w],b=A[w+1],C=l(c,D,b,m),B=l(v,D,b,m);if(C<b&&B<b&&m[C]===c&&m[B]===v){if(F){var S=F[C];F[C]=F[B],F[B]=S}continue}if(C<b&&m[C]===c&&(B>=b||m[B]!==v)){var N=F?F[C]:void 0;m.splice(B,0,v),F&&F.splice(B,0,N),m.splice(B<=C?C+1:C,1),F&&F.splice(B<=C?C+1:C,1);continue}if(B<b&&m[B]===v&&(C>=b||m[C]!==c)){var M=F?F[B]:void 0;m.splice(C,0,c),F&&F.splice(C,0,M),m.splice(C<=B?B+1:B,1),F&&F.splice(C<=B?B+1:B,1)}}},u},{isClass:!0}),tf="number",rf=["typed"];function nf(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],u=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:u}}else return null}function uf(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);r+=u/Math.pow(e.radix,n+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var of=ue(tf,rf,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=nf(u);if(i)return uf(i);var o=0,s=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),u=s[1]);var a=Number(u);if(isNaN(a))throw new SyntaxError('String "'+u+'" is not a valid number');if(s){if(a>nt(2,o)-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));a>=nt(2,o-1)&&(a=a-nt(2,o))}return a},BigNumber:function(u){return u.toNumber()},Fraction:function(u){return u.valueOf()},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":t.referToSelf(n=>u=>ht(u,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),sf="bignumber",af=["typed","BigNumber"],ff=ue(sf,af,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(u){return new r(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],s=r(i[1]),a=new r(2).pow(Number(o));if(s.gt(a.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var l=new r(2).pow(Number(o)-1);return s.gte(l)?s.sub(a):s}return new r(u)},BigNumber:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new r(u.n).div(u.d).times(u.s)},null:function(u){return new r(0)},"Array | Matrix":t.referToSelf(n=>u=>ht(u,n))})}),cf="fraction",lf=["typed","Fraction"],hf=ue(cf,lf,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new r(u)},string:function(u){return new r(u)},"number, number":function(u,i){return new r(u,i)},null:function(u){return new r(0)},BigNumber:function(u){return new r(u.toString())},Fraction:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new r(u)},"Array | Matrix":t.referToSelf(n=>u=>ht(u,n))})}),Un="matrix",pf=["typed","Matrix","DenseMatrix","SparseMatrix"],df=ue(Un,pf,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(Un,{"":function(){return i([])},string:function(s){return i([],s)},"string, string":function(s,a){return i([],s,a)},Array:function(s){return i(s)},Matrix:function(s){return i(s,s.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,s,a){if(s==="dense"||s==="default"||s===void 0)return new n(o,a);if(s==="sparse")return new u(o,a);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),Zn="unaryMinus",Df=["typed"],mf=ue(Zn,Df,e=>{var{typed:t}=e;return t(Zn,{number:ei,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:t.referToSelf(r=>n=>{var u=n.clone();return u.value=t.find(r,u.valueType())(n.value),u}),"Array | Matrix":t.referToSelf(r=>n=>ht(n,r))})}),Hn="abs",gf=["typed"],vf=ue(Hn,gf,e=>{var{typed:t}=e;return t(Hn,{number:Xu,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":t.referToSelf(r=>n=>ht(n,r))})}),Gn="addScalar",wf=["typed"],bf=ue(Gn,wf,e=>{var{typed:t}=e;return t(Gn,{"number, number":Ju,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),Vn="subtractScalar",Ff=["typed"],Ef=ue(Vn,Ff,e=>{var{typed:t}=e;return t(Vn,{"number, number":Ku,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),yf="matAlgo11xS0s",Af=["typed","equalScalar"],Cf=ue(yf,Af,e=>{var{typed:t,equalScalar:r}=e;return function(u,i,o,s){var a=u._values,l=u._index,f=u._ptr,h=u._size,p=u._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var g=h[0],E=h[1],c,v=r,d=0,F=o;typeof p=="string"&&(c=p,v=t.find(r,[c,c]),d=t.convert(0,c),i=t.convert(i,c),F=t.find(o,[c,c]));for(var m=[],A=[],w=[],D=0;D<E;D++){w[D]=A.length;for(var b=f[D],C=f[D+1],B=b;B<C;B++){var S=l[B],N=s?F(i,a[B]):F(a[B],i);v(N,d)||(A.push(S),m.push(N))}}return w[E]=A.length,u.createSparseMatrix({values:m,index:A,ptr:w,size:[g,E],datatype:c})}}),Bf="matAlgo14xDs",_f=["typed"],Nf=ue(Bf,_f,e=>{var{typed:t}=e;return function(u,i,o,s){var a=u._data,l=u._size,f=u._datatype,h,p=o;typeof f=="string"&&(h=f,i=t.convert(i,h),p=t.find(o,[h,h]));var g=l.length>0?r(p,0,l,l[0],a,i,s):[];return u.createDenseMatrix({data:g,size:Ee(l),datatype:h})};function r(n,u,i,o,s,a,l){var f=[];if(u===i.length-1)for(var h=0;h<o;h++)f[h]=l?n(a,s[h]):n(s[h],a);else for(var p=0;p<o;p++)f[p]=r(n,u+1,i,i[u+1],s[p],a,l);return f}}),Mf="multiplyScalar",Sf=["typed"],Tf=ue(Mf,Sf,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Qu,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Yn="multiply",xf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Of=ue(Yn,xf,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:i,dot:o}=e,s=Cf({typed:t,equalScalar:i}),a=Nf({typed:t});function l(w,D){switch(w.length){case 1:switch(D.length){case 1:if(w[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(w[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+D[0]+")");break;case 2:if(w[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function f(w,D,b){if(b===0)throw new Error("Cannot multiply two empty vectors");return o(w,D)}function h(w,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(w,D)}function p(w,D){var b=w._data,C=w._size,B=w._datatype||w.getDataType(),S=D._data,N=D._size,M=D._datatype||D.getDataType(),k=C[0],G=N[1],H,z=n,Y=u;B&&M&&B===M&&typeof B=="string"&&B!=="mixed"&&(H=B,z=t.find(n,[H,H]),Y=t.find(u,[H,H]));for(var j=[],W=0;W<G;W++){for(var Q=Y(b[0],S[0][W]),oe=1;oe<k;oe++)Q=z(Q,Y(b[oe],S[oe][W]));j[W]=Q}return w.createDenseMatrix({data:j,size:[G],datatype:B===w._datatype&&M===D._datatype?H:void 0})}var g=t("_multiplyMatrixVector",{"DenseMatrix, any":c,"SparseMatrix, any":F}),E=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":d,"SparseMatrix, DenseMatrix":m,"SparseMatrix, SparseMatrix":A});function c(w,D){var b=w._data,C=w._size,B=w._datatype||w.getDataType(),S=D._data,N=D._datatype||D.getDataType(),M=C[0],k=C[1],G,H=n,z=u;B&&N&&B===N&&typeof B=="string"&&B!=="mixed"&&(G=B,H=t.find(n,[G,G]),z=t.find(u,[G,G]));for(var Y=[],j=0;j<M;j++){for(var W=b[j],Q=z(W[0],S[0]),oe=1;oe<k;oe++)Q=H(Q,z(W[oe],S[oe]));Y[j]=Q}return w.createDenseMatrix({data:Y,size:[M],datatype:B===w._datatype&&N===D._datatype?G:void 0})}function v(w,D){var b=w._data,C=w._size,B=w._datatype||w.getDataType(),S=D._data,N=D._size,M=D._datatype||D.getDataType(),k=C[0],G=C[1],H=N[1],z,Y=n,j=u;B&&M&&B===M&&typeof B=="string"&&B!=="mixed"&&B!=="mixed"&&(z=B,Y=t.find(n,[z,z]),j=t.find(u,[z,z]));for(var W=[],Q=0;Q<k;Q++){var oe=b[Q];W[Q]=[];for(var ie=0;ie<H;ie++){for(var ne=j(oe[0],S[0][ie]),ye=1;ye<G;ye++)ne=Y(ne,j(oe[ye],S[ye][ie]));W[Q][ie]=ne}}return w.createDenseMatrix({data:W,size:[k,H],datatype:B===w._datatype&&M===D._datatype?z:void 0})}function d(w,D){var b=w._data,C=w._size,B=w._datatype||w.getDataType(),S=D._values,N=D._index,M=D._ptr,k=D._size,G=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var H=C[0],z=k[1],Y,j=n,W=u,Q=i,oe=0;B&&G&&B===G&&typeof B=="string"&&B!=="mixed"&&(Y=B,j=t.find(n,[Y,Y]),W=t.find(u,[Y,Y]),Q=t.find(i,[Y,Y]),oe=t.convert(0,Y));for(var ie=[],ne=[],ye=[],Fe=D.createSparseMatrix({values:ie,index:ne,ptr:ye,size:[H,z],datatype:B===w._datatype&&G===D._datatype?Y:void 0}),Ne=0;Ne<z;Ne++){ye[Ne]=ne.length;var de=M[Ne],ze=M[Ne+1];if(ze>de)for(var ce=0,ae=0;ae<H;ae++){for(var He=ae+1,xe=void 0,le=de;le<ze;le++){var Te=N[le];ce!==He?(xe=W(b[ae][Te],S[le]),ce=He):xe=j(xe,W(b[ae][Te],S[le]))}ce===He&&!Q(xe,oe)&&(ne.push(ae),ie.push(xe))}}return ye[z]=ne.length,Fe}function F(w,D){var b=w._values,C=w._index,B=w._ptr,S=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=D._data,M=D._datatype||D.getDataType(),k=w._size[0],G=D._size[0],H=[],z=[],Y=[],j,W=n,Q=u,oe=i,ie=0;S&&M&&S===M&&typeof S=="string"&&S!=="mixed"&&(j=S,W=t.find(n,[j,j]),Q=t.find(u,[j,j]),oe=t.find(i,[j,j]),ie=t.convert(0,j));var ne=[],ye=[];Y[0]=0;for(var Fe=0;Fe<G;Fe++){var Ne=N[Fe];if(!oe(Ne,ie))for(var de=B[Fe],ze=B[Fe+1],ce=de;ce<ze;ce++){var ae=C[ce];ye[ae]?ne[ae]=W(ne[ae],Q(Ne,b[ce])):(ye[ae]=!0,z.push(ae),ne[ae]=Q(Ne,b[ce]))}}for(var He=z.length,xe=0;xe<He;xe++){var le=z[xe];H[xe]=ne[le]}return Y[1]=z.length,w.createSparseMatrix({values:H,index:z,ptr:Y,size:[k,1],datatype:S===w._datatype&&M===D._datatype?j:void 0})}function m(w,D){var b=w._values,C=w._index,B=w._ptr,S=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=D._data,M=D._datatype||D.getDataType(),k=w._size[0],G=D._size[0],H=D._size[1],z,Y=n,j=u,W=i,Q=0;S&&M&&S===M&&typeof S=="string"&&S!=="mixed"&&(z=S,Y=t.find(n,[z,z]),j=t.find(u,[z,z]),W=t.find(i,[z,z]),Q=t.convert(0,z));for(var oe=[],ie=[],ne=[],ye=w.createSparseMatrix({values:oe,index:ie,ptr:ne,size:[k,H],datatype:S===w._datatype&&M===D._datatype?z:void 0}),Fe=[],Ne=[],de=0;de<H;de++){ne[de]=ie.length;for(var ze=de+1,ce=0;ce<G;ce++){var ae=N[ce][de];if(!W(ae,Q))for(var He=B[ce],xe=B[ce+1],le=He;le<xe;le++){var Te=C[le];Ne[Te]!==ze?(Ne[Te]=ze,ie.push(Te),Fe[Te]=j(ae,b[le])):Fe[Te]=Y(Fe[Te],j(ae,b[le]))}}for(var Ge=ne[de],tt=ie.length,rt=Ge;rt<tt;rt++){var vt=ie[rt];oe[rt]=Fe[vt]}}return ne[H]=ie.length,ye}function A(w,D){var b=w._values,C=w._index,B=w._ptr,S=w._datatype||w._data===void 0?w._datatype:w.getDataType(),N=D._values,M=D._index,k=D._ptr,G=D._datatype||D._data===void 0?D._datatype:D.getDataType(),H=w._size[0],z=D._size[1],Y=b&&N,j,W=n,Q=u;S&&G&&S===G&&typeof S=="string"&&S!=="mixed"&&(j=S,W=t.find(n,[j,j]),Q=t.find(u,[j,j]));for(var oe=Y?[]:void 0,ie=[],ne=[],ye=w.createSparseMatrix({values:oe,index:ie,ptr:ne,size:[H,z],datatype:S===w._datatype&&G===D._datatype?j:void 0}),Fe=Y?[]:void 0,Ne=[],de,ze,ce,ae,He,xe,le,Te,Ge=0;Ge<z;Ge++){ne[Ge]=ie.length;var tt=Ge+1;for(He=k[Ge],xe=k[Ge+1],ae=He;ae<xe;ae++)if(Te=M[ae],Y)for(ze=B[Te],ce=B[Te+1],de=ze;de<ce;de++)le=C[de],Ne[le]!==tt?(Ne[le]=tt,ie.push(le),Fe[le]=Q(N[ae],b[de])):Fe[le]=W(Fe[le],Q(N[ae],b[de]));else for(ze=B[Te],ce=B[Te+1],de=ze;de<ce;de++)le=C[de],Ne[le]!==tt&&(Ne[le]=tt,ie.push(le));if(Y)for(var rt=ne[Ge],vt=ie.length,wt=rt;wt<vt;wt++){var Br=ie[wt];oe[wt]=Fe[Br]}}return ne[z]=ie.length,ye}return t(Yn,u,{"Array, Array":t.referTo("Matrix, Matrix",w=>(D,b)=>{l(Ze(D),Ze(b));var C=w(r(D),r(b));return Se(C)?C.valueOf():C}),"Matrix, Matrix":function(D,b){var C=D.size(),B=b.size();return l(C,B),C.length===1?B.length===1?f(D,b,C[0]):h(D,b):B.length===1?g(D,b):E(D,b)},"Matrix, Array":t.referTo("Matrix,Matrix",w=>(D,b)=>w(D,r(b))),"Array, Matrix":t.referToSelf(w=>(D,b)=>w(r(D,b.storage()),b)),"SparseMatrix, any":function(D,b){return s(D,b,u,!1)},"DenseMatrix, any":function(D,b){return a(D,b,u,!1)},"any, SparseMatrix":function(D,b){return s(b,D,u,!0)},"any, DenseMatrix":function(D,b){return a(b,D,u,!0)},"Array, any":function(D,b){return a(r(D),b,u,!1).valueOf()},"any, Array":function(D,b){return a(r(b),D,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(w=>(D,b,C)=>{for(var B=w(D,b),S=0;S<C.length;S++)B=w(B,C[S]);return B})})}),jn="conj",If=["typed"],Pf=ue(jn,If,e=>{var{typed:t}=e;return t(jn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>ht(n,r))})}),Wn="identity",$f=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],zf=ue(Wn,$f,e=>{var{typed:t,config:r,matrix:n,BigNumber:u,DenseMatrix:i,SparseMatrix:o}=e;return t(Wn,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(f){return n(f)},"number | BigNumber":function(f){return a(f,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(f,h){return a(f,f,h)},"number | BigNumber, number | BigNumber":function(f,h){return a(f,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(f,h,p){return a(f,h,p)},Array:function(f){return s(f)},"Array, string":function(f,h){return s(f,h)},Matrix:function(f){return s(f.valueOf(),f.storage())},"Matrix, string":function(f,h){return s(f.valueOf(),h)}});function s(l,f){switch(l.length){case 0:return f?n(f):[];case 1:return a(l[0],l[0],f);case 2:return a(l[0],l[1],f);default:throw new Error("Vector containing two values expected")}}function a(l,f,h){var p=_e(l)||_e(f)?u:null;if(_e(l)&&(l=l.toNumber()),_e(f)&&(f=f.toNumber()),!me(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!me(f)||f<1)throw new Error("Parameters in function identity must be positive integers");var g=p?new u(1):1,E=p?new p(0):0,c=[l,f];if(h){if(h==="sparse")return o.diagonal(c,g,0,E);if(h==="dense")return i.diagonal(c,g,0,E);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var v=sn([],c,E),d=l<f?l:f,F=0;F<d;F++)v[F][F]=g;return v}});function Rf(){throw new Error('No "bignumber" implementation available')}function Lf(){throw new Error('No "fraction" implementation available')}function qf(){throw new Error('No "matrix" implementation available')}var Xn="size",kf=["typed","config","?matrix"],Uf=ue(Xn,kf,e=>{var{typed:t,config:r,matrix:n}=e;return t(Xn,{Matrix:function(i){return i.create(i.size())},Array:Ze,string:function(i){return r.matrix==="Array"?[i.length]:n([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:n?n([]):qf()}})}),Zf="numeric",Hf=["number","?bignumber","?fraction"],Gf=ue(Zf,Hf,e=>{var{number:t,bignumber:r,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):Rf,Fraction:n?o=>n(o):Lf};return function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var f=Ct(s);if(!(f in u))throw new TypeError("Cannot convert "+s+' of type "'+f+'"; valid input types are '+Object.keys(u).join(", "));if(!(a in i))throw new TypeError("Cannot convert "+s+' to type "'+a+'"; valid output types are '+Object.keys(i).join(", "));return a===f?s:i[a](s)}}),Jn="divideScalar",Vf=["typed","numeric"],Yf=ue(Jn,Vf,e=>{var{typed:t,numeric:r}=e;return t(Jn,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})}),Kn="pow",jf=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Wf=ue(Kn,jf,e=>{var{typed:t,config:r,identity:n,multiply:u,matrix:i,inv:o,number:s,fraction:a,Complex:l}=e;return t(Kn,{"number, number":f,"Complex, Complex":function(E,c){return E.pow(c)},"BigNumber, BigNumber":function(E,c){return c.isInteger()||E>=0||r.predictable?E.pow(c):new l(E.toNumber(),0).pow(c.toNumber(),0)},"Fraction, Fraction":function(E,c){var v=E.pow(c);if(v!=null)return v;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return f(E.valueOf(),c.valueOf())},"Array, number":h,"Array, BigNumber":function(E,c){return h(E,c.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(E,c){return p(E,c.toNumber())},"Unit, number | BigNumber":function(E,c){return E.pow(c)}});function f(g,E){if(r.predictable&&!me(E)&&g<0)try{var c=a(E),v=s(c);if((E===v||Math.abs((E-v)/E)<1e-14)&&c.d%2===1)return(c.n%2===0?1:-1)*Math.pow(-g,E)}catch(d){}return r.predictable&&(g<-1&&E===1/0||g>-1&&g<0&&E===-1/0)?NaN:me(E)||g>=0||r.predictable?ti(g,E):g*g<1&&E===1/0||g*g>1&&E===-1/0?0:new l(g,0).pow(E,0)}function h(g,E){if(!me(E))throw new TypeError("For A^b, b must be an integer (value is "+E+")");var c=Ze(g);if(c.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+c.length+" dimensions)");if(c[0]!==c[1])throw new Error("For A^b, A must be square (size is "+c[0]+"x"+c[1]+")");if(E<0)try{return h(o(g),-E)}catch(F){throw F.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+E+")"):F}for(var v=n(c[0]).valueOf(),d=g;E>=1;)(E&1)===1&&(v=u(d,v)),E>>=1,d=u(d,d);return v}function p(g,E){return i(h(g.valueOf(),E))}}),Qn="dot",Xf=["typed","addScalar","multiplyScalar","conj","size"],Jf=ue(Qn,Xf,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:i}=e;return t(Qn,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":a});function o(f,h){var p=l(f),g=l(h),E,c;if(p.length===1)E=p[0];else if(p.length===2&&p[1]===1)E=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(g.length===1)c=g[0];else if(g.length===2&&g[1]===1)c=g[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+g.join(", ")+")");if(E!==c)throw new RangeError("Vectors must have equal length ("+E+" != "+c+")");if(E===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return E}function s(f,h){var p=o(f,h),g=Se(f)?f._data:f,E=Se(f)?f._datatype||f.getDataType():void 0,c=Se(h)?h._data:h,v=Se(h)?h._datatype||h.getDataType():void 0,d=l(f).length===2,F=l(h).length===2,m=r,A=n;if(E&&v&&E===v&&typeof E=="string"&&E!=="mixed"){var w=E;m=t.find(r,[w,w]),A=t.find(n,[w,w])}if(!d&&!F){for(var D=A(u(g[0]),c[0]),b=1;b<p;b++)D=m(D,A(u(g[b]),c[b]));return D}if(!d&&F){for(var C=A(u(g[0]),c[0][0]),B=1;B<p;B++)C=m(C,A(u(g[B]),c[B][0]));return C}if(d&&!F){for(var S=A(u(g[0][0]),c[0]),N=1;N<p;N++)S=m(S,A(u(g[N][0]),c[N]));return S}if(d&&F){for(var M=A(u(g[0][0]),c[0][0]),k=1;k<p;k++)M=m(M,A(u(g[k][0]),c[k][0]));return M}}function a(f,h){o(f,h);for(var p=f._index,g=f._values,E=h._index,c=h._values,v=0,d=r,F=n,m=0,A=0;m<p.length&&A<E.length;){var w=p[m],D=E[A];if(w<D){m++;continue}if(w>D){A++;continue}w===D&&(v=d(v,F(g[m],c[A])),m++,A++)}return v}function l(f){return Se(f)?f.size():i(f)}}),eu="det",Kf=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Qf=ue(eu,Kf,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:u,divideScalar:i,isZero:o,unaryMinus:s}=e;return t(eu,{any:function(f){return Ee(f)},"Array | Matrix":function(f){var h;switch(Se(f)?h=f.size():Array.isArray(f)?(f=r(f),h=f.size()):h=[],h.length){case 0:return Ee(f);case 1:if(h[0]===1)return Ee(f.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Be(h)+")");case 2:{var p=h[0],g=h[1];if(p===g)return a(f.clone().valueOf(),p);if(g===0)return 1;throw new RangeError("Matrix must be square (size: "+Be(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(h)+")")}}});function a(l,f,h){if(f===1)return Ee(l[0][0]);if(f===2)return n(u(l[0][0],l[1][1]),u(l[1][0],l[0][1]));for(var p=!1,g=new Array(f).fill(0).map((b,C)=>C),E=0;E<f;E++){var c=g[E];if(o(l[c][E])){var v=void 0;for(v=E+1;v<f;v++)if(!o(l[g[v]][E])){c=g[v],g[v]=g[E],g[E]=c,p=!p;break}if(v===f)return l[c][E]}for(var d=l[c][E],F=E===0?1:l[g[E-1]][E-1],m=E+1;m<f;m++)for(var A=g[m],w=E+1;w<f;w++)l[A][w]=i(n(u(l[A][w],d),u(l[A][E],l[c][w])),F)}var D=l[g[f-1]][f-1];return p?s(D):D}}),tu="inv",e0=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],t0=ue(tu,e0,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:u,multiply:i,unaryMinus:o,det:s,identity:a,abs:l}=e;return t(tu,{"Array | Matrix":function(p){var g=Se(p)?p.size():Ze(p);switch(g.length){case 1:if(g[0]===1)return Se(p)?r([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+Be(g)+")");case 2:{var E=g[0],c=g[1];if(E===c)return Se(p)?r(f(p.valueOf(),E,c),p.storage()):f(p,E,c);throw new RangeError("Matrix must be square (size: "+Be(g)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(g)+")")}},any:function(p){return n(1,p)}});function f(h,p,g){var E,c,v,d,F;if(p===1){if(d=h[0][0],d===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,d)]]}else if(p===2){var m=s(h);if(m===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(h[1][1],m),n(o(h[0][1]),m)],[n(o(h[1][0]),m),n(h[0][0],m)]]}else{var A=h.concat();for(E=0;E<p;E++)A[E]=A[E].concat();for(var w=a(p).valueOf(),D=0;D<g;D++){var b=l(A[D][D]),C=D;for(E=D+1;E<p;)l(A[E][D])>b&&(b=l(A[E][D]),C=E),E++;if(b===0)throw Error("Cannot calculate inverse, determinant is zero");E=C,E!==D&&(F=A[D],A[D]=A[E],A[E]=F,F=w[D],w[D]=w[E],w[E]=F);var B=A[D],S=w[D];for(E=0;E<p;E++){var N=A[E],M=w[E];if(E!==D){if(N[D]!==0){for(v=n(o(N[D]),B[D]),c=D;c<g;c++)N[c]=u(N[c],i(v,B[c]));for(c=0;c<g;c++)M[c]=u(M[c],i(v,S[c]))}}else{for(v=B[D],c=D;c<g;c++)N[c]=n(N[c],v);for(c=0;c<g;c++)M[c]=n(M[c],v)}}}return w}}}),ru="combinations",r0=["typed"],n0=ue(ru,r0,e=>{var{typed:t}=e;return t(ru,{"number, number":ri,"BigNumber, BigNumber":function(n,u){var i=n.constructor,o,s,a=n.minus(u),l=new i(1);if(!nu(n)||!nu(u))throw new TypeError("Positive integer value expected in function combinations");if(u.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=l,u.lt(a))for(s=l;s.lte(a);s=s.plus(l))o=o.times(u.plus(s)).dividedBy(s);else for(s=l;s.lte(u);s=s.plus(l))o=o.times(a.plus(s)).dividedBy(s);return o}})});function nu(e){return e.isInteger()&&e.gte(0)}var mn=Da({config:xt}),ui=ba({}),ii=Ba({}),gn=Ma({}),vn=Za({Matrix:gn}),be=vs({BigNumber:mn,Complex:ui,DenseMatrix:vn,Fraction:ii}),u0=vf({typed:be}),wn=bf({typed:be}),i0=ff({BigNumber:mn,typed:be}),o0=n0({typed:be}),s0=Pf({typed:be}),oi=Ja({config:xt,typed:be}),a0=Va({typed:be}),si=Tf({typed:be}),ai=of({typed:be}),fi=ef({Matrix:gn,equalScalar:oi,typed:be}),f0=Ef({typed:be}),ci=mf({typed:be}),li=hf({Fraction:ii,typed:be}),It=df({DenseMatrix:vn,Matrix:gn,SparseMatrix:fi,typed:be}),c0=Gf({bignumber:i0,fraction:li,number:ai}),l0=Uf({matrix:It,config:xt,typed:be}),hi=Yf({numeric:c0,typed:be}),pi=zf({BigNumber:mn,DenseMatrix:vn,SparseMatrix:fi,config:xt,matrix:It,typed:be}),h0=Jf({addScalar:wn,conj:s0,multiplyScalar:si,size:l0,typed:be}),bn=Of({addScalar:wn,dot:h0,equalScalar:oi,matrix:It,multiplyScalar:si,typed:be}),p0=Qf({divideScalar:hi,isZero:a0,matrix:It,multiply:bn,subtractScalar:f0,typed:be,unaryMinus:ci}),d0=t0({abs:u0,addScalar:wn,det:p0,divideScalar:hi,identity:pi,matrix:It,multiply:bn,typed:be,unaryMinus:ci}),uu=Wf({Complex:ui,config:xt,fraction:li,identity:pi,inv:d0,matrix:It,multiply:bn,number:ai,typed:be});function iu(e,t,r){return o0(e,t)*uu(r,t)*uu(1-r,e-t)}const _t=(e,t=0,r=1)=>En(yn(t,e),r),Fn=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=_t(e[t],0,255)):t===3&&(e[t]=_t(e[t],0,1));return e},di={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])di[`[object ${e}]`]=e.toLowerCase();function te(e){return di[Object.prototype.toString.call(e)]||"object"}const re=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):te(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0],yr=e=>{if(e.length<2)return null;const t=e.length-1;return te(e[t])=="string"?e[t].toLowerCase():null},{PI:Ar,min:En,max:yn}=Math,ot=Ar*2,$r=Ar/3,D0=Ar/180,m0=180/Ar,K={format:{},autodetect:[]};class L{constructor(...t){const r=this;if(te(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=yr(t),u=!1;if(!n){u=!0,K.sorted||(K.autodetect=K.autodetect.sort((i,o)=>o.p-i.p),K.sorted=!0);for(let i of K.autodetect)if(n=i.test(...t),n)break}if(K.format[n]){const i=K.format[n].apply(null,u?t:t.slice(0,-1));r._rgb=Fn(i)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return te(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const g0="2.6.0",ee=(...e)=>new ee.Color(...e);ee.Color=L;ee.version=g0;const v0=(...e)=>{e=re(e,"cmyk");const[t,r,n,u]=e,i=e.length>4?e[4]:1;return u===1?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-u),r>=1?0:255*(1-r)*(1-u),n>=1?0:255*(1-n)*(1-u),i]},{max:ou}=Math,w0=(...e)=>{let[t,r,n]=re(e,"rgb");t=t/255,r=r/255,n=n/255;const u=1-ou(t,ou(r,n)),i=u<1?1/(1-u):0,o=(1-t-u)*i,s=(1-r-u)*i,a=(1-n-u)*i;return[o,s,a,u]};L.prototype.cmyk=function(){return w0(this._rgb)};ee.cmyk=(...e)=>new L(...e,"cmyk");K.format.cmyk=v0;K.autodetect.push({p:2,test:(...e)=>{if(e=re(e,"cmyk"),te(e)==="array"&&e.length===4)return"cmyk"}});const zr=e=>Math.round(e*100)/100,b0=(...e)=>{const t=re(e,"hsla");let r=yr(e)||"lsa";return t[0]=zr(t[0]||0),t[1]=zr(t[1]*100)+"%",t[2]=zr(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]=t.length>3?t[3]:1,r="hsla"):t.length=3,`${r}(${t.join(",")})`},Di=(...e)=>{e=re(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;const u=En(t,r,n),i=yn(t,r,n),o=(i+u)/2;let s,a;return i===u?(s=0,a=Number.NaN):s=o<.5?(i-u)/(i+u):(i-u)/(2-i-u),t==i?a=(r-n)/(i-u):r==i?a=2+(n-t)/(i-u):n==i&&(a=4+(t-r)/(i-u)),a*=60,a<0&&(a+=360),e.length>3&&e[3]!==void 0?[a,s,o,e[3]]:[a,s,o]},{round:Rr}=Math,F0=(...e)=>{const t=re(e,"rgba");let r=yr(e)||"rgb";return r.substr(0,3)=="hsl"?b0(Di(t),r):(t[0]=Rr(t[0]),t[1]=Rr(t[1]),t[2]=Rr(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]=t.length>3?t[3]:1,r="rgba"),`${r}(${t.slice(0,r==="rgb"?3:4).join(",")})`)},{round:Lr}=Math,cn=(...e)=>{e=re(e,"hsl");const[t,r,n]=e;let u,i,o;if(r===0)u=i=o=n*255;else{const s=[0,0,0],a=[0,0,0],l=n<.5?n*(1+r):n+r-n*r,f=2*n-l,h=t/360;s[0]=h+1/3,s[1]=h,s[2]=h-1/3;for(let p=0;p<3;p++)s[p]<0&&(s[p]+=1),s[p]>1&&(s[p]-=1),6*s[p]<1?a[p]=f+(l-f)*6*s[p]:2*s[p]<1?a[p]=l:3*s[p]<2?a[p]=f+(l-f)*(2/3-s[p])*6:a[p]=f;[u,i,o]=[Lr(a[0]*255),Lr(a[1]*255),Lr(a[2]*255)]}return e.length>3?[u,i,o,e[3]]:[u,i,o,1]},mi=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,gi=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,vi=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,wi=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,bi=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Fi=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,{round:su}=Math,An=e=>{e=e.toLowerCase().trim();let t;if(K.format.named)try{return K.format.named(e)}catch(r){}if(t=e.match(mi)){const r=t.slice(1,4);for(let n=0;n<3;n++)r[n]=+r[n];return r[3]=1,r}if(t=e.match(gi)){const r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+r[n];return r}if(t=e.match(vi)){const r=t.slice(1,4);for(let n=0;n<3;n++)r[n]=su(r[n]*2.55);return r[3]=1,r}if(t=e.match(wi)){const r=t.slice(1,5);for(let n=0;n<3;n++)r[n]=su(r[n]*2.55);return r[3]=+r[3],r}if(t=e.match(bi)){const r=t.slice(1,4);r[1]*=.01,r[2]*=.01;const n=cn(r);return n[3]=1,n}if(t=e.match(Fi)){const r=t.slice(1,4);r[1]*=.01,r[2]*=.01;const n=cn(r);return n[3]=+t[4],n}};An.test=e=>mi.test(e)||gi.test(e)||vi.test(e)||wi.test(e)||bi.test(e)||Fi.test(e);L.prototype.css=function(e){return F0(this._rgb,e)};ee.css=(...e)=>new L(...e,"css");K.format.css=An;K.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&te(e)==="string"&&An.test(e))return"css"}});K.format.gl=(...e)=>{const t=re(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};ee.gl=(...e)=>new L(...e,"gl");L.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};const{floor:E0}=Math,y0=(...e)=>{e=re(e,"hcg");let[t,r,n]=e,u,i,o;n=n*255;const s=r*255;if(r===0)u=i=o=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const a=E0(t),l=t-a,f=n*(1-r),h=f+s*(1-l),p=f+s*l,g=f+s;switch(a){case 0:[u,i,o]=[g,p,f];break;case 1:[u,i,o]=[h,g,f];break;case 2:[u,i,o]=[f,g,p];break;case 3:[u,i,o]=[f,h,g];break;case 4:[u,i,o]=[p,f,g];break;case 5:[u,i,o]=[g,f,h];break}}return[u,i,o,e.length>3?e[3]:1]},A0=(...e)=>{const[t,r,n]=re(e,"rgb"),u=En(t,r,n),i=yn(t,r,n),o=i-u,s=o*100/255,a=u/(255-o)*100;let l;return o===0?l=Number.NaN:(t===i&&(l=(r-n)/o),r===i&&(l=2+(n-t)/o),n===i&&(l=4+(t-r)/o),l*=60,l<0&&(l+=360)),[l,s,a]};L.prototype.hcg=function(){return A0(this._rgb)};ee.hcg=(...e)=>new L(...e,"hcg");K.format.hcg=y0;K.autodetect.push({p:1,test:(...e)=>{if(e=re(e,"hcg"),te(e)==="array"&&e.length===3)return"hcg"}});const C0=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,B0=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ei=e=>{if(e.match(C0)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16),r=t>>16,n=t>>8&255,u=t&255;return[r,n,u,1]}if(e.match(B0)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16),r=t>>24&255,n=t>>16&255,u=t>>8&255,i=Math.round((t&255)/255*100)/100;return[r,n,u,i]}throw new Error(`unknown hex color: ${e}`)},{round:Yt}=Math,yi=(...e)=>{let[t,r,n,u]=re(e,"rgba"),i=yr(e)||"auto";u===void 0&&(u=1),i==="auto"&&(i=u<1?"rgba":"rgb"),t=Yt(t),r=Yt(r),n=Yt(n);let s="000000"+(t<<16|r<<8|n).toString(16);s=s.substr(s.length-6);let a="0"+Yt(u*255).toString(16);switch(a=a.substr(a.length-2),i.toLowerCase()){case"rgba":return`#${s}${a}`;case"argb":return`#${a}${s}`;default:return`#${s}`}};L.prototype.hex=function(e){return yi(this._rgb,e)};ee.hex=(...e)=>new L(...e,"hex");K.format.hex=Ei;K.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&te(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{cos:yt}=Math,_0=(...e)=>{e=re(e,"hsi");let[t,r,n]=e,u,i,o;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(o=(1-r)/3,u=(1+r*yt(ot*t)/yt($r-ot*t))/3,i=1-(o+u)):t<2/3?(t-=1/3,u=(1-r)/3,i=(1+r*yt(ot*t)/yt($r-ot*t))/3,o=1-(u+i)):(t-=2/3,i=(1-r)/3,o=(1+r*yt(ot*t)/yt($r-ot*t))/3,u=1-(i+o)),u=_t(n*u*3),i=_t(n*i*3),o=_t(n*o*3),[u*255,i*255,o*255,e.length>3?e[3]:1]},{min:N0,sqrt:M0,acos:S0}=Math,T0=(...e)=>{let[t,r,n]=re(e,"rgb");t/=255,r/=255,n/=255;let u;const i=N0(t,r,n),o=(t+r+n)/3,s=o>0?1-i/o:0;return s===0?u=NaN:(u=(t-r+(t-n))/2,u/=M0((t-r)*(t-r)+(t-n)*(r-n)),u=S0(u),n>r&&(u=ot-u),u/=ot),[u*360,s,o]};L.prototype.hsi=function(){return T0(this._rgb)};ee.hsi=(...e)=>new L(...e,"hsi");K.format.hsi=_0;K.autodetect.push({p:2,test:(...e)=>{if(e=re(e,"hsi"),te(e)==="array"&&e.length===3)return"hsi"}});L.prototype.hsl=function(){return Di(this._rgb)};ee.hsl=(...e)=>new L(...e,"hsl");K.format.hsl=cn;K.autodetect.push({p:2,test:(...e)=>{if(e=re(e,"hsl"),te(e)==="array"&&e.length===3)return"hsl"}});const{floor:x0}=Math,O0=(...e)=>{e=re(e,"hsv");let[t,r,n]=e,u,i,o;if(n*=255,r===0)u=i=o=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const s=x0(t),a=t-s,l=n*(1-r),f=n*(1-r*a),h=n*(1-r*(1-a));switch(s){case 0:[u,i,o]=[n,h,l];break;case 1:[u,i,o]=[f,n,l];break;case 2:[u,i,o]=[l,n,h];break;case 3:[u,i,o]=[l,f,n];break;case 4:[u,i,o]=[h,l,n];break;case 5:[u,i,o]=[n,l,f];break}}return[u,i,o,e.length>3?e[3]:1]},{min:I0,max:P0}=Math,$0=(...e)=>{e=re(e,"rgb");let[t,r,n]=e;const u=I0(t,r,n),i=P0(t,r,n),o=i-u;let s,a,l;return l=i/255,i===0?(s=Number.NaN,a=0):(a=o/i,t===i&&(s=(r-n)/o),r===i&&(s=2+(n-t)/o),n===i&&(s=4+(t-r)/o),s*=60,s<0&&(s+=360)),[s,a,l]};L.prototype.hsv=function(){return $0(this._rgb)};ee.hsv=(...e)=>new L(...e,"hsv");K.format.hsv=O0;K.autodetect.push({p:2,test:(...e)=>{if(e=re(e,"hsv"),te(e)==="array"&&e.length===3)return"hsv"}});const ke={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{pow:z0}=Math,Ai=(...e)=>{e=re(e,"lab");const[t,r,n]=e;let u,i,o,s,a,l;return i=(t+16)/116,u=isNaN(r)?i:i+r/500,o=isNaN(n)?i:i-n/200,i=ke.Yn*kr(i),u=ke.Xn*kr(u),o=ke.Zn*kr(o),s=qr(3.2404542*u-1.5371385*i-.4985314*o),a=qr(-.969266*u+1.8760108*i+.041556*o),l=qr(.0556434*u-.2040259*i+1.0572252*o),[s,a,l,e.length>3?e[3]:1]},qr=e=>255*(e<=.00304?12.92*e:1.055*z0(e,1/2.4)-.055),kr=e=>e>ke.t1?e*e*e:ke.t2*(e-ke.t0),{pow:Ci}=Math,Bi=(...e)=>{const[t,r,n]=re(e,"rgb"),[u,i,o]=R0(t,r,n),s=116*i-16;return[s<0?0:s,500*(u-i),200*(i-o)]},Ur=e=>(e/=255)<=.04045?e/12.92:Ci((e+.055)/1.055,2.4),Zr=e=>e>ke.t3?Ci(e,1/3):e/ke.t2+ke.t0,R0=(e,t,r)=>{e=Ur(e),t=Ur(t),r=Ur(r);const n=Zr((.4124564*e+.3575761*t+.1804375*r)/ke.Xn),u=Zr((.2126729*e+.7151522*t+.072175*r)/ke.Yn),i=Zr((.0193339*e+.119192*t+.9503041*r)/ke.Zn);return[n,u,i]};L.prototype.lab=function(){return Bi(this._rgb)};ee.lab=(...e)=>new L(...e,"lab");K.format.lab=Ai;K.autodetect.push({p:2,test:(...e)=>{if(e=re(e,"lab"),te(e)==="array"&&e.length===3)return"lab"}});const{sin:L0,cos:q0}=Math,_i=(...e)=>{let[t,r,n]=re(e,"lch");return isNaN(n)&&(n=0),n=n*D0,[t,q0(n)*r,L0(n)*r]},Ni=(...e)=>{e=re(e,"lch");const[t,r,n]=e,[u,i,o]=_i(t,r,n),[s,a,l]=Ai(u,i,o);return[s,a,l,e.length>3?e[3]:1]},k0=(...e)=>{const t=re(e,"hcl").reverse();return Ni(...t)},{sqrt:U0,atan2:Z0,round:H0}=Math,Mi=(...e)=>{const[t,r,n]=re(e,"lab"),u=U0(r*r+n*n);let i=(Z0(n,r)*m0+360)%360;return H0(u*1e4)===0&&(i=Number.NaN),[t,u,i]},Si=(...e)=>{const[t,r,n]=re(e,"rgb"),[u,i,o]=Bi(t,r,n);return Mi(u,i,o)};L.prototype.lch=function(){return Si(this._rgb)};L.prototype.hcl=function(){return Si(this._rgb).reverse()};ee.lch=(...e)=>new L(...e,"lch");ee.hcl=(...e)=>new L(...e,"hcl");K.format.lch=Ni;K.format.hcl=k0;["lch","hcl"].forEach(e=>K.autodetect.push({p:2,test:(...t)=>{if(t=re(t,e),te(t)==="array"&&t.length===3)return e}}));const Tt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};L.prototype.name=function(){const e=yi(this._rgb,"rgb");for(let t of Object.keys(Tt))if(Tt[t]===e)return t.toLowerCase();return e};K.format.named=e=>{if(e=e.toLowerCase(),Tt[e])return Ei(Tt[e]);throw new Error("unknown color name: "+e)};K.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&te(e)==="string"&&Tt[e.toLowerCase()])return"named"}});const G0=e=>{if(te(e)=="number"&&e>=0&&e<=16777215){const t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},V0=(...e)=>{const[t,r,n]=re(e,"rgb");return(t<<16)+(r<<8)+n};L.prototype.num=function(){return V0(this._rgb)};ee.num=(...e)=>new L(...e,"num");K.format.num=G0;K.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&te(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const{round:Ti}=Math;L.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ti)};L.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:Ti(t):t)};ee.rgb=(...e)=>new L(...e,"rgb");K.format.rgb=(...e)=>{const t=re(e,"rgba");return t[3]===void 0&&(t[3]=1),t};K.autodetect.push({p:3,test:(...e)=>{if(e=re(e,"rgba"),te(e)==="array"&&(e.length===3||e.length===4&&te(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const{log:jt}=Math,xi=e=>{const t=e/100;let r,n,u;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*jt(n),u=t<20?0:-254.76935184120902+.8274096064007395*(u=t-10)+115.67994401066147*jt(u)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*jt(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*jt(n),u=255),[r,n,u,1]},{round:Y0}=Math,j0=(...e)=>{const t=re(e,"rgb"),r=t[0],n=t[2];let u=1e3,i=4e4;const o=.4;let s;for(;i-u>o;){s=(i+u)*.5;const a=xi(s);a[2]/a[0]>=n/r?i=s:u=s}return Y0(s)};L.prototype.temp=L.prototype.kelvin=L.prototype.temperature=function(){return j0(this._rgb)};ee.temp=ee.kelvin=ee.temperature=(...e)=>new L(...e,"temp");K.format.temp=K.format.kelvin=K.format.temperature=xi;const{pow:tr,sign:W0}=Math,Oi=(...e)=>{e=re(e,"lab");const[t,r,n]=e,u=tr(t+.3963377774*r+.2158037573*n,3),i=tr(t-.1055613458*r-.0638541728*n,3),o=tr(t-.0894841775*r-1.291485548*n,3);return[255*Hr(4.0767416621*u-3.3077115913*i+.2309699292*o),255*Hr(-1.2684380046*u+2.6097574011*i-.3413193965*o),255*Hr(-.0041960863*u-.7034186147*i+1.707614701*o),e.length>3?e[3]:1]};function Hr(e){const t=Math.abs(e);return t>.0031308?(W0(e)||1)*(1.055*tr(t,1/2.4)-.055):e*12.92}const{cbrt:Gr,pow:X0,sign:J0}=Math,Ii=(...e)=>{const[t,r,n]=re(e,"rgb"),[u,i,o]=[Vr(t/255),Vr(r/255),Vr(n/255)],s=Gr(.4122214708*u+.5363325363*i+.0514459929*o),a=Gr(.2119034982*u+.6806995451*i+.1073969566*o),l=Gr(.0883024619*u+.2817188376*i+.6299787005*o);return[.2104542553*s+.793617785*a-.0040720468*l,1.9779984951*s-2.428592205*a+.4505937099*l,.0259040371*s+.7827717662*a-.808675766*l]};function Vr(e){const t=Math.abs(e);return t<.04045?e/12.92:(J0(e)||1)*X0((t+.055)/1.055,2.4)}L.prototype.oklab=function(){return Ii(this._rgb)};ee.oklab=(...e)=>new L(...e,"oklab");K.format.oklab=Oi;K.autodetect.push({p:3,test:(...e)=>{if(e=re(e,"oklab"),te(e)==="array"&&e.length===3)return"oklab"}});const K0=(...e)=>{e=re(e,"lch");const[t,r,n]=e,[u,i,o]=_i(t,r,n),[s,a,l]=Oi(u,i,o);return[s,a,l,e.length>3?e[3]:1]},Q0=(...e)=>{const[t,r,n]=re(e,"rgb"),[u,i,o]=Ii(t,r,n);return Mi(u,i,o)};L.prototype.oklch=function(){return Q0(this._rgb)};ee.oklch=(...e)=>new L(...e,"oklch");K.format.oklch=K0;K.autodetect.push({p:3,test:(...e)=>{if(e=re(e,"oklch"),te(e)==="array"&&e.length===3)return"oklch"}});L.prototype.alpha=function(e,t=!1){return e!==void 0&&te(e)==="number"?t?(this._rgb[3]=e,this):new L([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};L.prototype.clipped=function(){return this._rgb._clipped||!1};L.prototype.darken=function(e=1){const t=this,r=t.lab();return r[0]-=ke.Kn*e,new L(r,"lab").alpha(t.alpha(),!0)};L.prototype.brighten=function(e=1){return this.darken(-e)};L.prototype.darker=L.prototype.darken;L.prototype.brighter=L.prototype.brighten;L.prototype.get=function(e){const[t,r]=e.split("."),n=this[t]();if(r){const u=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(u>-1)return n[u];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};const{pow:ec}=Math,tc=1e-7,rc=20;L.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&te(e)==="number"){if(e===0)return new L([0,0,0,this._rgb[3]],"rgb");if(e===1)return new L([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=rc;const u=(o,s)=>{const a=o.interpolate(s,.5,t),l=a.luminance();return Math.abs(e-l)<tc||!n--?a:l>e?u(o,a):u(a,s)},i=(r>e?u(new L([0,0,0]),this):u(this,new L([255,255,255]))).rgb();return new L([...i,this._rgb[3]])}return nc(...this._rgb.slice(0,3))};const nc=(e,t,r)=>(e=Yr(e),t=Yr(t),r=Yr(r),.2126*e+.7152*t+.0722*r),Yr=e=>(e/=255,e<=.03928?e/12.92:ec((e+.055)/1.055,2.4)),Pe={},Ut=(e,t,r=.5,...n)=>{let u=n[0]||"lrgb";if(!Pe[u]&&!n.length&&(u=Object.keys(Pe)[0]),!Pe[u])throw new Error(`interpolation mode ${u} is not defined`);return te(e)!=="object"&&(e=new L(e)),te(t)!=="object"&&(t=new L(t)),Pe[u](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};L.prototype.mix=L.prototype.interpolate=function(e,t=.5,...r){return Ut(this,e,t,...r)};L.prototype.premultiply=function(e=!1){const t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new L([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};L.prototype.saturate=function(e=1){const t=this,r=t.lch();return r[1]+=ke.Kn*e,r[1]<0&&(r[1]=0),new L(r,"lch").alpha(t.alpha(),!0)};L.prototype.desaturate=function(e=1){return this.saturate(-e)};L.prototype.set=function(e,t,r=!1){const[n,u]=e.split("."),i=this[n]();if(u){const o=n.indexOf(u)-(n.substr(0,2)==="ok"?2:0);if(o>-1){if(te(t)=="string")switch(t.charAt(0)){case"+":i[o]+=+t;break;case"-":i[o]+=+t;break;case"*":i[o]*=+t.substr(1);break;case"/":i[o]/=+t.substr(1);break;default:i[o]=+t}else if(te(t)==="number")i[o]=t;else throw new Error("unsupported value for Color.set");const s=new L(i,n);return r?(this._rgb=s._rgb,this):s}throw new Error(`unknown channel ${u} in mode ${n}`)}else return i};L.prototype.tint=function(e=.5,...t){return Ut(this,"white",e,...t)};L.prototype.shade=function(e=.5,...t){return Ut(this,"black",e,...t)};const uc=(e,t,r)=>{const n=e._rgb,u=t._rgb;return new L(n[0]+r*(u[0]-n[0]),n[1]+r*(u[1]-n[1]),n[2]+r*(u[2]-n[2]),"rgb")};Pe.rgb=uc;const{sqrt:jr,pow:At}=Math,ic=(e,t,r)=>{const[n,u,i]=e._rgb,[o,s,a]=t._rgb;return new L(jr(At(n,2)*(1-r)+At(o,2)*r),jr(At(u,2)*(1-r)+At(s,2)*r),jr(At(i,2)*(1-r)+At(a,2)*r),"rgb")};Pe.lrgb=ic;const oc=(e,t,r)=>{const n=e.lab(),u=t.lab();return new L(n[0]+r*(u[0]-n[0]),n[1]+r*(u[1]-n[1]),n[2]+r*(u[2]-n[2]),"lab")};Pe.lab=oc;const Pt=(e,t,r,n)=>{let u,i;n==="hsl"?(u=e.hsl(),i=t.hsl()):n==="hsv"?(u=e.hsv(),i=t.hsv()):n==="hcg"?(u=e.hcg(),i=t.hcg()):n==="hsi"?(u=e.hsi(),i=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",u=e.hcl(),i=t.hcl()):n==="oklch"&&(u=e.oklch().reverse(),i=t.oklch().reverse());let o,s,a,l,f,h;(n.substr(0,1)==="h"||n==="oklch")&&([o,a,f]=u,[s,l,h]=i);let p,g,E,c;return!isNaN(o)&&!isNaN(s)?(s>o&&s-o>180?c=s-(o+360):s<o&&o-s>180?c=s+360-o:c=s-o,g=o+r*c):isNaN(o)?isNaN(s)?g=Number.NaN:(g=s,(f==1||f==0)&&n!="hsv"&&(p=l)):(g=o,(h==1||h==0)&&n!="hsv"&&(p=a)),p===void 0&&(p=a+r*(l-a)),E=f+r*(h-f),n==="oklch"?new L([E,p,g],n):new L([g,p,E],n)},Pi=(e,t,r)=>Pt(e,t,r,"lch");Pe.lch=Pi;Pe.hcl=Pi;const sc=(e,t,r)=>{const n=e.num(),u=t.num();return new L(n+r*(u-n),"num")};Pe.num=sc;const ac=(e,t,r)=>Pt(e,t,r,"hcg");Pe.hcg=ac;const fc=(e,t,r)=>Pt(e,t,r,"hsi");Pe.hsi=fc;const cc=(e,t,r)=>Pt(e,t,r,"hsl");Pe.hsl=cc;const lc=(e,t,r)=>Pt(e,t,r,"hsv");Pe.hsv=lc;const hc=(e,t,r)=>{const n=e.oklab(),u=t.oklab();return new L(n[0]+r*(u[0]-n[0]),n[1]+r*(u[1]-n[1]),n[2]+r*(u[2]-n[2]),"oklab")};Pe.oklab=hc;const pc=(e,t,r)=>Pt(e,t,r,"oklch");Pe.oklch=pc;const{pow:Wr,sqrt:Xr,PI:Jr,cos:au,sin:fu,atan2:dc}=Math,Dc=(e,t="lrgb",r=null)=>{const n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));const u=n/r.reduce(function(h,p){return h+p});if(r.forEach((h,p)=>{r[p]*=u}),e=e.map(h=>new L(h)),t==="lrgb")return mc(e,r);const i=e.shift(),o=i.get(t),s=[];let a=0,l=0;for(let h=0;h<o.length;h++)if(o[h]=(o[h]||0)*r[0],s.push(isNaN(o[h])?0:r[0]),t.charAt(h)==="h"&&!isNaN(o[h])){const p=o[h]/180*Jr;a+=au(p)*r[0],l+=fu(p)*r[0]}let f=i.alpha()*r[0];e.forEach((h,p)=>{const g=h.get(t);f+=h.alpha()*r[p+1];for(let E=0;E<o.length;E++)if(!isNaN(g[E]))if(s[E]+=r[p+1],t.charAt(E)==="h"){const c=g[E]/180*Jr;a+=au(c)*r[p+1],l+=fu(c)*r[p+1]}else o[E]+=g[E]*r[p+1]});for(let h=0;h<o.length;h++)if(t.charAt(h)==="h"){let p=dc(l/s[h],a/s[h])/Jr*180;for(;p<0;)p+=360;for(;p>=360;)p-=360;o[h]=p}else o[h]=o[h]/s[h];return f/=n,new L(o,t).alpha(f>.99999?1:f,!0)},mc=(e,t)=>{const r=e.length,n=[0,0,0,0];for(let u=0;u<e.length;u++){const i=e[u],o=t[u]/r,s=i._rgb;n[0]+=Wr(s[0],2)*o,n[1]+=Wr(s[1],2)*o,n[2]+=Wr(s[2],2)*o,n[3]+=s[3]*o}return n[0]=Xr(n[0]),n[1]=Xr(n[1]),n[2]=Xr(n[2]),n[3]>.9999999&&(n[3]=1),new L(Fn(n))},{pow:gc}=Math;function Dr(e){let t="rgb",r=ee("#ccc"),n=0,u=[0,1],i=[],o=[0,0],s=!1,a=[],l=!1,f=0,h=1,p=!1,g={},E=!0,c=1;const v=function(b){if(b=b||["#fff","#000"],b&&te(b)==="string"&&ee.brewer&&ee.brewer[b.toLowerCase()]&&(b=ee.brewer[b.toLowerCase()]),te(b)==="array"){b.length===1&&(b=[b[0],b[0]]),b=b.slice(0);for(let C=0;C<b.length;C++)b[C]=ee(b[C]);i.length=0;for(let C=0;C<b.length;C++)i.push(C/(b.length-1))}return w(),a=b},d=function(b){if(s!=null){const C=s.length-1;let B=0;for(;B<C&&b>=s[B];)B++;return B-1}return 0};let F=b=>b,m=b=>b;const A=function(b,C){let B,S;if(C==null&&(C=!1),isNaN(b)||b===null)return r;C?S=b:s&&s.length>2?S=d(b)/(s.length-2):h!==f?S=(b-f)/(h-f):S=1,S=m(S),C||(S=F(S)),c!==1&&(S=gc(S,c)),S=o[0]+S*(1-o[0]-o[1]),S=_t(S,0,1);const N=Math.floor(S*1e4);if(E&&g[N])B=g[N];else{if(te(a)==="array")for(let M=0;M<i.length;M++){const k=i[M];if(S<=k){B=a[M];break}if(S>=k&&M===i.length-1){B=a[M];break}if(S>k&&S<i[M+1]){S=(S-k)/(i[M+1]-k),B=ee.interpolate(a[M],a[M+1],S,t);break}}else te(a)==="function"&&(B=a(S));E&&(g[N]=B)}return B};var w=()=>g={};v(e);const D=function(b){const C=ee(A(b));return l&&C[l]?C[l]():C};return D.classes=function(b){if(b!=null){if(te(b)==="array")s=b,u=[b[0],b[b.length-1]];else{const C=ee.analyze(u);b===0?s=[C.min,C.max]:s=ee.limits(C,"e",b)}return D}return s},D.domain=function(b){if(!arguments.length)return u;f=b[0],h=b[b.length-1],i=[];const C=a.length;if(b.length===C&&f!==h)for(let B of Array.from(b))i.push((B-f)/(h-f));else{for(let B=0;B<C;B++)i.push(B/(C-1));if(b.length>2){const B=b.map((N,M)=>M/(b.length-1)),S=b.map(N=>(N-f)/(h-f));S.every((N,M)=>B[M]===N)||(m=N=>{if(N<=0||N>=1)return N;let M=0;for(;N>=S[M+1];)M++;const k=(N-S[M])/(S[M+1]-S[M]);return B[M]+k*(B[M+1]-B[M])})}}return u=[f,h],D},D.mode=function(b){return arguments.length?(t=b,w(),D):t},D.range=function(b,C){return v(b),D},D.out=function(b){return l=b,D},D.spread=function(b){return arguments.length?(n=b,D):n},D.correctLightness=function(b){return b==null&&(b=!0),p=b,w(),p?F=function(C){const B=A(0,!0).lab()[0],S=A(1,!0).lab()[0],N=B>S;let M=A(C,!0).lab()[0];const k=B+(S-B)*C;let G=M-k,H=0,z=1,Y=20;for(;Math.abs(G)>.01&&Y-- >0;)(function(){return N&&(G*=-1),G<0?(H=C,C+=(z-C)*.5):(z=C,C+=(H-C)*.5),M=A(C,!0).lab()[0],G=M-k})();return C}:F=C=>C,D},D.padding=function(b){return b!=null?(te(b)==="number"&&(b=[b,b]),o=b,D):o},D.colors=function(b,C){arguments.length<2&&(C="hex");let B=[];if(arguments.length===0)B=a.slice(0);else if(b===1)B=[D(.5)];else if(b>1){const S=u[0],N=u[1]-S;B=vc(0,b).map(M=>D(S+M/(b-1)*N))}else{e=[];let S=[];if(s&&s.length>2)for(let N=1,M=s.length,k=1<=M;k?N<M:N>M;k?N++:N--)S.push((s[N-1]+s[N])*.5);else S=u;B=S.map(N=>D(N))}return ee[C]&&(B=B.map(S=>S[C]())),B},D.cache=function(b){return b!=null?(E=b,D):E},D.gamma=function(b){return b!=null?(c=b,D):c},D.nodata=function(b){return b!=null?(r=ee(b),D):r},D}function vc(e,t,r){let n=[],u=e<t,i=t;for(let o=e;u?o<i:o>i;u?o++:o--)n.push(o);return n}const wc=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let u=1;u<=t.length;u++)n[u]=(t[u]||0)+t[u-1];t=n}return t},bc=function(e){let t,r,n,u;if(e=e.map(i=>new L(i)),e.length===2)[r,n]=e.map(i=>i.lab()),t=function(i){const o=[0,1,2].map(s=>r[s]+i*(n[s]-r[s]));return new L(o,"lab")};else if(e.length===3)[r,n,u]=e.map(i=>i.lab()),t=function(i){const o=[0,1,2].map(s=>(1-i)*(1-i)*r[s]+2*(1-i)*i*n[s]+i*i*u[s]);return new L(o,"lab")};else if(e.length===4){let i;[r,n,u,i]=e.map(o=>o.lab()),t=function(o){const s=[0,1,2].map(a=>(1-o)*(1-o)*(1-o)*r[a]+3*(1-o)*(1-o)*o*n[a]+3*(1-o)*o*o*u[a]+o*o*o*i[a]);return new L(s,"lab")}}else if(e.length>=5){let i,o,s;i=e.map(a=>a.lab()),s=e.length-1,o=wc(s),t=function(a){const l=1-a,f=[0,1,2].map(h=>i.reduce((p,g,E)=>p+o[E]*nt(l,s-E)*nt(a,E)*g[h],0));return new L(f,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},Fc=e=>{const t=bc(e);return t.scale=()=>Dr(t),t},Je=(e,t,r)=>{if(!Je[r])throw new Error("unknown blend mode "+r);return Je[r](e,t)},pt=e=>(t,r)=>{const n=ee(r).rgb(),u=ee(t).rgb();return ee.rgb(e(n,u))},dt=e=>(t,r)=>{const n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},Ec=e=>e,yc=(e,t)=>e*t/255,Ac=(e,t)=>e>t?t:e,Cc=(e,t)=>e>t?e:t,Bc=(e,t)=>255*(1-(1-e/255)*(1-t/255)),_c=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),Nc=(e,t)=>255*(1-(1-t/255)/(e/255)),Mc=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);Je.normal=pt(dt(Ec));Je.multiply=pt(dt(yc));Je.screen=pt(dt(Bc));Je.overlay=pt(dt(_c));Je.darken=pt(dt(Ac));Je.lighten=pt(dt(Cc));Je.dodge=pt(dt(Mc));Je.burn=pt(dt(Nc));const{pow:Sc,sin:Tc,cos:xc}=Math;function Oc(e=300,t=-1.5,r=1,n=1,u=[0,1]){let i=0,o;te(u)==="array"?o=u[1]-u[0]:(o=0,u=[u,u]);const s=function(a){const l=ot*((e+120)/360+t*a),f=Sc(u[0]+o*a,n),p=(i!==0?r[0]+a*i:r)*f*(1-f)/2,g=xc(l),E=Tc(l),c=f+p*(-.14861*g+1.78277*E),v=f+p*(-.29227*g-.90649*E),d=f+p*(1.97294*g);return ee(Fn([c*255,v*255,d*255,1]))};return s.start=function(a){return a==null?e:(e=a,s)},s.rotations=function(a){return a==null?t:(t=a,s)},s.gamma=function(a){return a==null?n:(n=a,s)},s.hue=function(a){return a==null?r:(r=a,te(r)==="array"?(i=r[1]-r[0],i===0&&(r=r[1])):i=0,s)},s.lightness=function(a){return a==null?u:(te(a)==="array"?(u=a,o=a[1]-a[0]):(u=[a,a],o=0),s)},s.scale=()=>ee.scale(s),s.hue(r),s}const Ic="0123456789abcdef",{floor:Pc,random:$c}=Math,zc=()=>{let e="#";for(let t=0;t<6;t++)e+=Ic.charAt(Pc($c()*16));return new L(e,"hex")},{log:cu,pow:Rc,floor:Lc,abs:qc}=Math;function $i(e,t=null){const r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return te(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&te(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,u)=>zi(r,n,u),r}function zi(e,t="equal",r=7){te(e)=="array"&&(e=$i(e));const{min:n,max:u}=e,i=e.values.sort((s,a)=>s-a);if(r===1)return[n,u];const o=[];if(t.substr(0,1)==="c"&&(o.push(n),o.push(u)),t.substr(0,1)==="e"){o.push(n);for(let s=1;s<r;s++)o.push(n+s/r*(u-n));o.push(u)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const s=Math.LOG10E*cu(n),a=Math.LOG10E*cu(u);o.push(n);for(let l=1;l<r;l++)o.push(Rc(10,s+l/r*(a-s)));o.push(u)}else if(t.substr(0,1)==="q"){o.push(n);for(let s=1;s<r;s++){const a=(i.length-1)*s/r,l=Lc(a);if(l===a)o.push(i[l]);else{const f=a-l;o.push(i[l]*(1-f)+i[l+1]*f)}}o.push(u)}else if(t.substr(0,1)==="k"){let s;const a=i.length,l=new Array(a),f=new Array(r);let h=!0,p=0,g=null;g=[],g.push(n);for(let v=1;v<r;v++)g.push(n+v/r*(u-n));for(g.push(u);h;){for(let d=0;d<r;d++)f[d]=0;for(let d=0;d<a;d++){const F=i[d];let m=Number.MAX_VALUE,A;for(let w=0;w<r;w++){const D=qc(g[w]-F);D<m&&(m=D,A=w),f[A]++,l[d]=A}}const v=new Array(r);for(let d=0;d<r;d++)v[d]=null;for(let d=0;d<a;d++)s=l[d],v[s]===null?v[s]=i[d]:v[s]+=i[d];for(let d=0;d<r;d++)v[d]*=1/f[d];h=!1;for(let d=0;d<r;d++)if(v[d]!==g[d]){h=!0;break}g=v,p++,p>200&&(h=!1)}const E={};for(let v=0;v<r;v++)E[v]=[];for(let v=0;v<a;v++)s=l[v],E[s].push(i[v]);let c=[];for(let v=0;v<r;v++)c.push(E[v][0]),c.push(E[v][E[v].length-1]);c=c.sort((v,d)=>v-d),o.push(c[0]);for(let v=1;v<c.length;v+=2){const d=c[v];!isNaN(d)&&o.indexOf(d)===-1&&o.push(d)}}return o}const kc=(e,t)=>{e=new L(e),t=new L(t);const r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},{sqrt:it,pow:Ce,min:Uc,max:Zc,atan2:lu,abs:hu,cos:Wt,sin:pu,exp:Hc,PI:du}=Math;function Gc(e,t,r=1,n=1,u=1){var i=function(ne){return 360*ne/(2*du)},o=function(ne){return 2*du*ne/360};e=new L(e),t=new L(t);const[s,a,l]=Array.from(e.lab()),[f,h,p]=Array.from(t.lab()),g=(s+f)/2,E=it(Ce(a,2)+Ce(l,2)),c=it(Ce(h,2)+Ce(p,2)),v=(E+c)/2,d=.5*(1-it(Ce(v,7)/(Ce(v,7)+Ce(25,7)))),F=a*(1+d),m=h*(1+d),A=it(Ce(F,2)+Ce(l,2)),w=it(Ce(m,2)+Ce(p,2)),D=(A+w)/2,b=i(lu(l,F)),C=i(lu(p,m)),B=b>=0?b:b+360,S=C>=0?C:C+360,N=hu(B-S)>180?(B+S+360)/2:(B+S)/2,M=1-.17*Wt(o(N-30))+.24*Wt(o(2*N))+.32*Wt(o(3*N+6))-.2*Wt(o(4*N-63));let k=S-B;k=hu(k)<=180?k:S<=B?k+360:k-360,k=2*it(A*w)*pu(o(k)/2);const G=f-s,H=w-A,z=1+.015*Ce(g-50,2)/it(20+Ce(g-50,2)),Y=1+.045*D,j=1+.015*D*M,W=30*Hc(-Ce((N-275)/25,2)),oe=-(2*it(Ce(D,7)/(Ce(D,7)+Ce(25,7))))*pu(2*o(W)),ie=it(Ce(G/(r*z),2)+Ce(H/(n*Y),2)+Ce(k/(u*j),2)+oe*(H/(n*Y))*(k/(u*j)));return Zc(0,Uc(100,ie))}function Vc(e,t,r="lab"){e=new L(e),t=new L(t);const n=e.get(r),u=t.get(r);let i=0;for(let o in n){const s=(n[o]||0)-(u[o]||0);i+=s*s}return Math.sqrt(i)}const Yc=(...e)=>{try{return new L(...e),!0}catch(t){return!1}},jc={cool(){return Dr([ee.hsl(180,1,.9),ee.hsl(250,.7,.4)])},hot(){return Dr(["#000","#f00","#ff0","#fff"]).mode("rgb")}},rr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};for(let e of Object.keys(rr))rr[e.toLowerCase()]=rr[e];Object.assign(ee,{average:Dc,bezier:Fc,blend:Je,cubehelix:Oc,mix:Ut,interpolate:Ut,random:zc,scale:Dr,analyze:$i,contrast:kc,deltaE:Gc,distance:Vc,limits:zi,valid:Yc,scales:jc,input:K,colors:Tt,brewer:rr});const Kr="#2F65A7",Du=300,Ri=10,ln=3,gt=30,Li=20,Wc=1e3,Xc=1e3,Qr=1e3,mr=Math.max(ln,Ri,gt/2)+5,Dt=document.querySelector("svg"),nr=document.querySelector("#num-levels"),Xt=document.querySelector("#do-drop"),Rt=document.querySelector("#speed"),ur=document.querySelector("#num-balls"),ir=document.querySelector("#rightward-prob"),Lt=[],qt=[],Jt=[];function Jc(e){return e*(2-e)}function Kc(e){return e*e}function qi(){Array.from(Dt.children).forEach(p=>p.remove());const e=parseInt(nr.value),t=parseInt(ur.value),r=parseFloat(ir.value),n=(e-1)*gt+2*mr,u=(e-1)*Li+2*mr+Du,i=Math.round((e-1)*r),o=iu(e-1,i,r),s=.5*Du/o;Dt.setAttribute("width",n),Dt.setAttribute("height",u);const a=[];for(let p=0;p<e;p++){const g=[];a.push(g);const E=[];Lt.push(E);for(let c=e-p-1;c<=e+p-1;c+=2){g[c]=0;const{x:v,y:d}=Kt(c,p),F=gu(v,d,ln,"#FEFEFE","none",Dt);p===0&&F.setAttribute("fill",Kr),E[c]=F}}for(let p=0;p<2*e-1;p+=2){const{x:g,y:E}=Kt(p,e-1),c=E+ln+2,v=mu(g-gt/2,c,gt,0,Kr,"none",Dt);qt.push(v);const d=iu(e-1,Math.floor(p/2),r),F=mu(g-gt/2,c,gt,s*d,"rgba(0, 0, 0, 0.1)",Kr,Dt);Jt.push(F)}function l(){return Gt(this,null,function*(){let p=0,g=e-1;const{x:E,y:c}=Kt(g,p),v=ee.random().darken(2*Math.random()-1).saturate(2*Math.random()-1).hex(),d=gu(E,c,Ri,v,v,Dt);d.setAttribute("opacity",.9);for(let w=0;w<e-1;w++){p++,Math.random()<r?g++:g--;const{x:D,y:b}=Kt(g,p);yield Qc(d,D,b,Xc/parseFloat(Rt.value));const C=Lt[p][g];a[p][g]++;const B=a[p][g]/t;C.setAttribute("fill",ee.scale(["#FEFEFE","#ff0000"]).domain([0,1])(B).hex())}const F=a[e-1][g],m=Math.floor(g/2),A=s*F/t;yield Promise.all([el(d,{x:parseFloat(d.getAttribute("cx")),y:parseFloat(d.getAttribute("cy"))+20},Qr/parseFloat(Rt.value),Jc),tl(d,Qr/parseFloat(Rt.value)),rl(qt[m],A,Qr/parseFloat(Rt.value),Kc)]),d.remove()})}function f(){return Gt(this,null,function*(){Cr(),Xt.setAttribute("disabled",!0),nr.setAttribute("disabled",!0),ur.setAttribute("disabled",!0),ir.setAttribute("disabled",!0);const p=[];for(let g=0;g<t;g++){const E=l();yield ki(Math.random()*Wc/parseFloat(Rt.value)),p.push(E)}yield Promise.all(p),Xt.removeAttribute("disabled"),nr.removeAttribute("disabled"),ur.removeAttribute("disabled"),ir.removeAttribute("disabled")})}Xt.addEventListener("click",f);function h(){Jt.forEach(p=>p.remove()),Jt.splice(0,Jt.length),qt.forEach(p=>p.remove()),qt.splice(0,qt.length),Lt.forEach(p=>p.forEach(g=>g.remove())),Lt.splice(0,Lt.length),Xt.removeEventListener("click",f)}return h}function Qc(e,t,r,n){return Gt(this,null,function*(){yield ki(n),e.setAttribute("cx",t),e.setAttribute("cy",r)})}function el(e,t,r,n=u=>u){const u=parseFloat(e.getAttribute("cx")),i=parseFloat(e.getAttribute("cy")),o=t.x-u,s=t.y-i,a=performance.now();return new Promise(l=>{function f(h){const p=Math.min((h-a)/r,1),g=n(p);e.setAttribute("cx",u+o*g),e.setAttribute("cy",i+s*g),p<1?requestAnimationFrame(f):l()}requestAnimationFrame(f)})}function tl(e,t,r=n=>n){const n=parseFloat(e.getAttribute("opacity")),u=performance.now();return new Promise(i=>{function o(s){const a=Math.min((s-u)/t,1),l=r(a);e.setAttribute("opacity",n*(1-l)),a<1?requestAnimationFrame(o):i()}requestAnimationFrame(o)})}function rl(e,t,r,n=u=>u){const u=parseFloat(e.getAttribute("height"))||0,i=t-u,o=performance.now();return new Promise(s=>{function a(l){const f=Math.min((l-o)/r,1),h=n(f);e.setAttribute("height",u+i*h),f<1?requestAnimationFrame(a):s()}requestAnimationFrame(a)})}function Kt(e,t){return{x:mr+e*(gt/2),y:mr+t*Li}}function ki(e){return new Promise(t=>setTimeout(t,e))}function mu(e,t,r,n,u,i,o){const s=document.createElementNS("http://www.w3.org/2000/svg","rect");return s.setAttribute("x",e),s.setAttribute("y",t),s.setAttribute("width",r),s.setAttribute("height",n),s.setAttribute("fill",u),s.setAttribute("stroke",i),o.append(s),s}function gu(e,t,r,n,u,i){const o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttribute("cx",e),o.setAttribute("cy",t),o.setAttribute("r",r),o.setAttribute("fill",n),o.setAttribute("stroke",u),i.append(o),o}nr.addEventListener("input",Cr);ur.addEventListener("input",Cr);ir.addEventListener("input",Cr);let vu=qi();function Cr(){vu(),vu=qi()}
